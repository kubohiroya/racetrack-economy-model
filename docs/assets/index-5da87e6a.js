var Ss=Object.defineProperty;var Fs=(e,t,i)=>t in e?Ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var v=(e,t,i)=>(Fs(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();class ii{constructor(t,i,s){v(this,"realWage");v(this,"priceIndex");v(this,"priceIndex0");v(this,"income");v(this,"income0");v(this,"AShare");v(this,"MShare");v(this,"MShare0");v(this,"nominalWage");v(this,"nominalWage0");v(this,"dMShare");v(this,"id");this.id=t,this.MShare=i,this.MShare0=i,this.dMShare=0,this.AShare=s,this.priceIndex=1,this.priceIndex0=1,this.income=1,this.income0=1,this.nominalWage=1,this.nominalWage0=1,this.realWage=1}setMShare(t){this.MShare=t}setAShare(t){this.AShare=t}changeMShare(t){this.dMShare=t,this.MShare+=this.dMShare}push(){this.income0=this.income,this.nominalWage0=this.nominalWage,this.priceIndex0=this.priceIndex,this.MShare0=this.MShare}calcIncome(t){this.income=t.pi*this.MShare*this.nominalWage+(1-t.pi)*this.AShare}calcPriceIndex(t){let i=0;t.cities.forEach(s=>{i+=s.MShare*Math.pow(s.nominalWage0*t.distanceMatrix[this.id][s.id],1-t.sigma)}),this.priceIndex=Math.pow(i,1/(1-t.sigma))}calcRealWage(t){this.realWage=this.nominalWage*Math.pow(this.priceIndex,-t.pi)}calcNominalWage(t){let i=0;t.cities.forEach(s=>{i+=s.income0*Math.pow(t.distanceMatrix[this.id][s.id],1-t.sigma)*Math.pow(s.priceIndex0,t.sigma-1)}),this.nominalWage=Math.pow(i,1/t.sigma)}calcDynamics(t){this.dMShare=t.gamma*(this.realWage-t.avgRealWage)*this.MShare}applyDynamics(t){this.MShare>1/t.cities.length/10?this.MShare+=this.dMShare:this.MShare=1/t.cities.length/10}}class Cs{constructor(t,i,s,n,r){v(this,"pi");v(this,"avgRealWage");v(this,"tcost");v(this,"sigma");v(this,"distanceMatrix");v(this,"cities");v(this,"gamma");this.pi=i,this.tcost=s,this.sigma=n,this.gamma=r,this.avgRealWage=1,this.cities=new Array(t),this.distanceMatrix=new Array(t);for(let a=0;a<t;a++)this.distanceMatrix[a]=new Array(t).fill(0),this.cities[a]=new ii(a,0,0);this.equalize(),this.calcDistanceMatrix()}reset(){const t=this.cities.length;for(let i=0;i<t;i++)this.distanceMatrix[i]=new Array(t).fill(0),this.cities[i]=new ii(i,0,0);this.equalize(),this.calcDistanceMatrix(),this.disturb()}setSigma(t){this.sigma=t+.1}setTcost(t){this.tcost=t}setPi(t){this.pi=t}calcDistanceMatrix(){const t=this.cities.length;for(let i=0;i<t;i++)for(let s=i;s<t;s++){const n=i==s?0:2*Math.min(s-i,i+t-s)/t;this.distanceMatrix[s][i]=this.distanceMatrix[i][s]=Math.exp(Math.log(this.tcost)*n)}}equalize(){const t=this.cities.length;this.cities.forEach(i=>{i.setMShare(1/t),i.setAShare(1/t)})}disturb(){const t=this.cities.length,i=1/t*.05;for(let s=0;s<t;s++){const n=Math.floor(Math.random()*t);this.cities[n].changeMShare(i)}this.rescale()}rescale(){let t=0,i=0;this.cities.forEach(s=>{t+=s.MShare,i+=s.AShare}),this.cities.forEach(s=>{s.setMShare(s.MShare/t),s.setAShare(s.AShare/i)})}push(){this.cities.forEach(t=>{t.push()})}calcIncome(){this.cities.forEach(t=>{t.calcIncome(this)})}calcPriceIndex(){this.cities.forEach(t=>{t.calcPriceIndex(this)})}calcNominalWage(){this.cities.forEach(t=>{t.calcNominalWage(this)})}calcRealWage(){this.cities.forEach(t=>{t.calcRealWage(this)})}calcAvgRealWage(){let t=0;this.cities.forEach(i=>{t+=i.realWage*i.MShare}),this.avgRealWage=t}calcDynamics(){this.cities.forEach(t=>{t.calcDynamics(this)})}applyDynamics(){this.cities.forEach(t=>{t.applyDynamics(this)}),this.rescale()}procedure(){this.push(),this.calcIncome(),this.calcPriceIndex(),this.calcNominalWage(),this.calcRealWage(),this.calcAvgRealWage(),this.calcDynamics(),this.applyDynamics()}}class Ds{constructor(t,i,s,n,r,a){v(this,"numCities");v(this,"country");v(this,"counter");v(this,"scale");v(this,"started",!1);v(this,"listeners",new Array);v(this,"timer",null);this.numCities=t,this.country=this.createCountry(t,s,n,r,a),this.scale=i,this.counter=0}createCountry(t,i,s,n,r){return new Cs(t,i,s,n,r)}reset(){this.counter=0,this.country.reset(),this.update()}stop(){this.started=!1,this.timer&&clearInterval(this.timer),this.timer=null}start(){this.started||(this.started=!0,this.timer=setInterval(()=>{this.country.procedure(),this.counter++,this.update()},10))}calcDistanceMatrix(){this.country.calcDistanceMatrix()}setNumCities(t,i,s,n,r){this.numCities=t,this.country=this.createCountry(this.numCities,i,s,n,r)}setScale(t){this.scale=t,this.update()}setPi(t){this.country.setPi(t)}setTcost(t){this.country.setTcost(t)}setSigma(t){this.country.setSigma(t)}addUpdateEventListener(t){this.listeners.push(t)}update(){this.listeners.forEach(t=>{t(this)})}}function Vs(e,t,i,s,n,r){const a=t-r,o=6,l=.1;e.textAlign="right";let c=0;for(let h=0;h<=1;h+=l){const f=i-n-h*s;f>=0&&(e.fillStyle="#ddd",e.fillRect(r,f-1,a,1),e.fillStyle="#888",e.fillText(h.toFixed(1),r-2,f+3),c++)}if(c<5)for(let h=.05;h<=1;h+=l){const f=i-n-h*s;f>=0&&(e.fillRect(r,f-1,o,1),e.fillText(h.toFixed(2),r-2,f+4))}if(c<2)for(let h=.01;h<=1;h+=.01){const f=i-n-h*s;f>=0&&(e.fillRect(r,f-1,o,1),e.fillText(h.toFixed(2),r-2,f+4),c++)}}function Ms(e,t,i,s,n,r){if(e.fillStyle="#888",e.textAlign="left",n<=100)for(let o=5;o<=n;o+=5){const l=s+o*i;e.fillText(o.toString(),l,r)}else for(let o=50;o<=n;o+=50){const l=s+o*i;e.fillText(o.toString(),l,r)}}class ks{constructor(t,i){v(this,"model");v(this,"canvas");this.canvas=t,this.model=i}repaint(){const s=this.canvas.getContext("2d");if(!s||!this.model)return;const n=(this.canvas.width-25)/this.model.country.cities.length,r=(this.canvas.height-10*2)*this.model.scale;s.fillStyle="#fff",s.fillRect(0,0,25,this.canvas.height),s.fillStyle="#f4f4f4",s.fillRect(25,10,this.canvas.width-25,this.canvas.height-10*2),Vs(s,this.canvas.width,this.canvas.height,r,10,25),this.model.country.cities.forEach((a,o)=>{a.dMShare<0?s.fillStyle="#ee8888":s.fillStyle="#dd0000",s.fillRect(25+o*n,this.canvas.height-10-a.MShare*r,Math.max(n-1,1),a.MShare*r)}),s.fillStyle="#fff",s.fillRect(25,this.canvas.height-10,this.canvas.width-25,10),Ms(s,this.canvas.width,n,25,this.model.numCities,this.canvas.height-10+10),s.fillStyle="#fff",s.fillRect(0,0,this.canvas.width,10)}}function Ps({canvas:e,diameter:t,vertices:i,vertexCircleRadius:s,vertexCircleValueSource:n}){const o=e.getContext("2d");if(!o)return;o.clearRect(0,0,e.width,e.height);const l=t/2,c={x:l,y:l},h=2*Math.PI/i;o.beginPath(),o.arc(20+c.x,20+c.y,l,0,2*Math.PI),o.stroke(),o.beginPath();for(let f=0;f<i;f++){const g=c.x+l*Math.cos(f*h),b=c.y+l*Math.sin(f*h);f===0?o.moveTo(20+g,20+b):o.lineTo(20+g,20+b),o.beginPath(),o.arc(20+g,20+b,s,0,2*Math.PI),o.fillStyle=`rgb(255, 0, 0, ${n[f]})`,o.fill();const m=c.x+(l+15)*Math.cos(f*h)-7,p=c.y+(l+15)*Math.sin(f*h);o.fillStyle="rgb(5, 5, 5, .5)",(i<100&&f%5==0||100<=i&&f%50==0)&&o.fillText(`${f}`,20+m,20+p+3)}o.closePath()}const Q=function(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof self<"u")return self;if(typeof window<"u")return window;try{return new Function("return this")()}catch{return{}}}();Q.trustedTypes===void 0&&(Q.trustedTypes={createPolicy:(e,t)=>t});const Li={configurable:!1,enumerable:!1,writable:!1};Q.FAST===void 0&&Reflect.defineProperty(Q,"FAST",Object.assign({value:Object.create(null)},Li));const kt=Q.FAST;if(kt.getById===void 0){const e=Object.create(null);Reflect.defineProperty(kt,"getById",Object.assign({value(t,i){let s=e[t];return s===void 0&&(s=i?e[t]=i():null),s}},Li))}const jt=Object.freeze([]);function Oi(){const e=new WeakMap;return function(t){let i=e.get(t);if(i===void 0){let s=Reflect.getPrototypeOf(t);for(;i===void 0&&s!==null;)i=e.get(s),s=Reflect.getPrototypeOf(s);i=i===void 0?[]:i.slice(0),e.set(t,i)}return i}}const fe=Q.FAST.getById(1,()=>{const e=[],t=[];function i(){if(t.length)throw t.shift()}function s(a){try{a.call()}catch(o){t.push(o),setTimeout(i,0)}}function n(){let o=0;for(;o<e.length;)if(s(e[o]),o++,o>1024){for(let l=0,c=e.length-o;l<c;l++)e[l]=e[l+o];e.length-=o,o=0}e.length=0}function r(a){e.length<1&&Q.requestAnimationFrame(n),e.push(a)}return Object.freeze({enqueue:r,process:n})}),Ii=Q.trustedTypes.createPolicy("fast-html",{createHTML:e=>e});let de=Ii;const Dt=`fast-${Math.random().toString(36).substring(2,8)}`,Ai=`${Dt}{`,He=`}${Dt}`,y=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(e){if(de!==Ii)throw new Error("The HTML policy can only be set once.");de=e},createHTML(e){return de.createHTML(e)},isMarker(e){return e&&e.nodeType===8&&e.data.startsWith(Dt)},extractDirectiveIndexFromMarker(e){return parseInt(e.data.replace(`${Dt}:`,""))},createInterpolationPlaceholder(e){return`${Ai}${e}${He}`},createCustomAttributePlaceholder(e,t){return`${e}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder(e){return`<!--${Dt}:${e}-->`},queueUpdate:fe.enqueue,processUpdates:fe.process,nextUpdate(){return new Promise(fe.enqueue)},setAttribute(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i)},setBooleanAttribute(e,t,i){i?e.setAttribute(t,""):e.removeAttribute(t)},removeChildNodes(e){for(let t=e.firstChild;t!==null;t=e.firstChild)e.removeChild(t)},createTemplateWalker(e){return document.createTreeWalker(e,133,null,!1)}});class Pe{constructor(t,i){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=i}has(t){return this.spillover===void 0?this.sub1===t||this.sub2===t:this.spillover.indexOf(t)!==-1}subscribe(t){const i=this.spillover;if(i===void 0){if(this.has(t))return;if(this.sub1===void 0){this.sub1=t;return}if(this.sub2===void 0){this.sub2=t;return}this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else i.indexOf(t)===-1&&i.push(t)}unsubscribe(t){const i=this.spillover;if(i===void 0)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}notify(t){const i=this.spillover,s=this.source;if(i===void 0){const n=this.sub1,r=this.sub2;n!==void 0&&n.handleChange(s,t),r!==void 0&&r.handleChange(s,t)}else for(let n=0,r=i.length;n<r;++n)i[n].handleChange(s,t)}}class Ei{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var i;const s=this.subscribers[t];s!==void 0&&s.notify(t),(i=this.sourceSubscribers)===null||i===void 0||i.notify(t)}subscribe(t,i){var s;if(i){let n=this.subscribers[i];n===void 0&&(this.subscribers[i]=n=new Pe(this.source)),n.subscribe(t)}else this.sourceSubscribers=(s=this.sourceSubscribers)!==null&&s!==void 0?s:new Pe(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,i){var s;if(i){const n=this.subscribers[i];n!==void 0&&n.unsubscribe(t)}else(s=this.sourceSubscribers)===null||s===void 0||s.unsubscribe(t)}}const k=kt.getById(2,()=>{const e=/(:|&&|\|\||if)/,t=new WeakMap,i=y.queueUpdate;let s,n=c=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function r(c){let h=c.$fastController||t.get(c);return h===void 0&&(Array.isArray(c)?h=n(c):t.set(c,h=new Ei(c))),h}const a=Oi();class o{constructor(h){this.name=h,this.field=`_${h}`,this.callback=`${h}Changed`}getValue(h){return s!==void 0&&s.watch(h,this.name),h[this.field]}setValue(h,f){const g=this.field,b=h[g];if(b!==f){h[g]=f;const m=h[this.callback];typeof m=="function"&&m.call(h,b,f),r(h).notify(this.name)}}}class l extends Pe{constructor(h,f,g=!1){super(h,f),this.binding=h,this.isVolatileBinding=g,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(h,f){this.needsRefresh&&this.last!==null&&this.disconnect();const g=s;s=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const b=this.binding(h,f);return s=g,b}disconnect(){if(this.last!==null){let h=this.first;for(;h!==void 0;)h.notifier.unsubscribe(this,h.propertyName),h=h.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(h,f){const g=this.last,b=r(h),m=g===null?this.first:{};if(m.propertySource=h,m.propertyName=f,m.notifier=b,b.subscribe(this,f),g!==null){if(!this.needsRefresh){let p;s=void 0,p=g.propertySource[g.propertyName],s=this,h===p&&(this.needsRefresh=!0)}g.next=m}this.last=m}handleChange(){this.needsQueue&&(this.needsQueue=!1,i(this))}call(){this.last!==null&&(this.needsQueue=!0,this.notify(this))}records(){let h=this.first;return{next:()=>{const f=h;return f===void 0?{value:void 0,done:!0}:(h=h.next,{value:f,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(c){n=c},getNotifier:r,track(c,h){s!==void 0&&s.watch(c,h)},trackVolatile(){s!==void 0&&(s.needsRefresh=!0)},notify(c,h){r(c).notify(h)},defineProperty(c,h){typeof h=="string"&&(h=new o(h)),a(c).push(h),Reflect.defineProperty(c,h.name,{enumerable:!0,get:function(){return h.getValue(this)},set:function(f){h.setValue(this,f)}})},getAccessors:a,binding(c,h,f=this.isVolatileBinding(c)){return new l(c,h,f)},isVolatileBinding(c){return e.test(c.toString())}})});function V(e,t){k.defineProperty(e,t)}const si=kt.getById(3,()=>{let e=null;return{get(){return e},set(t){e=t}}});class Pt{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return si.get()}get isEven(){return this.index%2===0}get isOdd(){return this.index%2!==0}get isFirst(){return this.index===0}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){si.set(t)}}k.defineProperty(Pt.prototype,"index");k.defineProperty(Pt.prototype,"length");const Vt=Object.seal(new Pt);class We{constructor(){this.targetIndex=0}}class Bi extends We{constructor(){super(...arguments),this.createPlaceholder=y.createInterpolationPlaceholder}}class Rs extends We{constructor(t,i,s){super(),this.name=t,this.behavior=i,this.options=s}createPlaceholder(t){return y.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function Ns(e,t){this.source=e,this.context=t,this.bindingObserver===null&&(this.bindingObserver=k.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(e,t))}function Ts(e,t){this.source=e,this.context=t,this.target.addEventListener(this.targetName,this)}function $s(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Ls(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const e=this.target.$fastView;e!==void 0&&e.isComposed&&(e.unbind(),e.needsBindOnly=!0)}function Os(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function Is(e){y.setAttribute(this.target,this.targetName,e)}function As(e){y.setBooleanAttribute(this.target,this.targetName,e)}function Es(e){if(e==null&&(e=""),e.create){this.target.textContent="";let t=this.target.$fastView;t===void 0?t=e.create():this.target.$fastTemplate!==e&&(t.isComposed&&(t.remove(),t.unbind()),t=e.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=e)}else{const t=this.target.$fastView;t!==void 0&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=e}}function Bs(e){this.target[this.targetName]=e}function zs(e){const t=this.classVersions||Object.create(null),i=this.target;let s=this.version||0;if(e!=null&&e.length){const n=e.split(/\s+/);for(let r=0,a=n.length;r<a;++r){const o=n[r];o!==""&&(t[o]=s,i.classList.add(o))}}if(this.classVersions=t,this.version=s+1,s!==0){s-=1;for(const n in t)t[n]===s&&i.classList.remove(n)}}class qe extends Bi{constructor(t){super(),this.binding=t,this.bind=Ns,this.unbind=$s,this.updateTarget=Is,this.isBindingVolatile=k.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,t!==void 0)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Bs,this.cleanedTargetName==="innerHTML"){const i=this.binding;this.binding=(s,n)=>y.createHTML(i(s,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=As;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=Ts,this.unbind=Os;break;default:this.cleanedTargetName=t,t==="class"&&(this.updateTarget=zs);break}}targetAtContent(){this.updateTarget=Es,this.unbind=Ls}createBehavior(t){return new js(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class js{constructor(t,i,s,n,r,a,o){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=i,this.isBindingVolatile=s,this.bind=n,this.unbind=r,this.updateTarget=a,this.targetName=o}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){Pt.setEvent(t);const i=this.binding(this.source,this.context);Pt.setEvent(null),i!==!0&&t.preventDefault()}}let ge=null;class Ue{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){ge=this}static borrow(t){const i=ge||new Ue;return i.directives=t,i.reset(),ge=null,i}}function Hs(e){if(e.length===1)return e[0];let t;const i=e.length,s=e.map(a=>typeof a=="string"?()=>a:(t=a.targetName||t,a.binding)),n=(a,o)=>{let l="";for(let c=0;c<i;++c)l+=s[c](a,o);return l},r=new qe(n);return r.targetName=t,r}const Ws=He.length;function zi(e,t){const i=t.split(Ai);if(i.length===1)return null;const s=[];for(let n=0,r=i.length;n<r;++n){const a=i[n],o=a.indexOf(He);let l;if(o===-1)l=a;else{const c=parseInt(a.substring(0,o));s.push(e.directives[c]),l=a.substring(o+Ws)}l!==""&&s.push(l)}return s}function ni(e,t,i=!1){const s=t.attributes;for(let n=0,r=s.length;n<r;++n){const a=s[n],o=a.value,l=zi(e,o);let c=null;l===null?i&&(c=new qe(()=>o),c.targetName=a.name):c=Hs(l),c!==null&&(t.removeAttributeNode(a),n--,r--,e.addFactory(c))}}function qs(e,t,i){const s=zi(e,t.textContent);if(s!==null){let n=t;for(let r=0,a=s.length;r<a;++r){const o=s[r],l=r===0?t:n.parentNode.insertBefore(document.createTextNode(""),n.nextSibling);typeof o=="string"?l.textContent=o:(l.textContent=" ",e.captureContentBinding(o)),n=l,e.targetIndex++,l!==t&&i.nextNode()}e.targetIndex--}}function Us(e,t){const i=e.content;document.adoptNode(i);const s=Ue.borrow(t);ni(s,e,!0);const n=s.behaviorFactories;s.reset();const r=y.createTemplateWalker(i);let a;for(;a=r.nextNode();)switch(s.targetIndex++,a.nodeType){case 1:ni(s,a);break;case 3:qs(s,a,r);break;case 8:y.isMarker(a)&&s.addFactory(t[y.extractDirectiveIndexFromMarker(a)])}let o=0;(y.isMarker(i.firstChild)||i.childNodes.length===1&&t.length)&&(i.insertBefore(document.createComment(""),i.firstChild),o=-1);const l=s.behaviorFactories;return s.release(),{fragment:i,viewBehaviorFactories:l,hostBehaviorFactories:n,targetOffset:o}}const pe=document.createRange();class Gs{constructor(t,i){this.fragment=t,this.behaviors=i,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const i=this.lastChild;if(t.previousSibling===i)return;const s=t.parentNode;let n=this.firstChild,r;for(;n!==i;)r=n.nextSibling,s.insertBefore(n,t),n=r;s.insertBefore(i,t)}}remove(){const t=this.fragment,i=this.lastChild;let s=this.firstChild,n;for(;s!==i;)n=s.nextSibling,t.appendChild(s),s=n;t.appendChild(i)}dispose(){const t=this.firstChild.parentNode,i=this.lastChild;let s=this.firstChild,n;for(;s!==i;)n=s.nextSibling,t.removeChild(s),s=n;t.removeChild(i);const r=this.behaviors,a=this.source;for(let o=0,l=r.length;o<l;++o)r[o].unbind(a)}bind(t,i){const s=this.behaviors;if(this.source!==t)if(this.source!==null){const n=this.source;this.source=t,this.context=i;for(let r=0,a=s.length;r<a;++r){const o=s[r];o.unbind(n),o.bind(t,i)}}else{this.source=t,this.context=i;for(let n=0,r=s.length;n<r;++n)s[n].bind(t,i)}}unbind(){if(this.source===null)return;const t=this.behaviors,i=this.source;for(let s=0,n=t.length;s<n;++s)t[s].unbind(i);this.source=null}static disposeContiguousBatch(t){if(t.length!==0){pe.setStartBefore(t[0].firstChild),pe.setEndAfter(t[t.length-1].lastChild),pe.deleteContents();for(let i=0,s=t.length;i<s;++i){const n=t[i],r=n.behaviors,a=n.source;for(let o=0,l=r.length;o<l;++o)r[o].unbind(a)}}}}class ri{constructor(t,i){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=i}create(t){if(this.fragment===null){let c;const h=this.html;if(typeof h=="string"){c=document.createElement("template"),c.innerHTML=y.createHTML(h);const g=c.content.firstElementChild;g!==null&&g.tagName==="TEMPLATE"&&(c=g)}else c=h;const f=Us(c,this.directives);this.fragment=f.fragment,this.viewBehaviorFactories=f.viewBehaviorFactories,this.hostBehaviorFactories=f.hostBehaviorFactories,this.targetOffset=f.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const i=this.fragment.cloneNode(!0),s=this.viewBehaviorFactories,n=new Array(this.behaviorCount),r=y.createTemplateWalker(i);let a=0,o=this.targetOffset,l=r.nextNode();for(let c=s.length;a<c;++a){const h=s[a],f=h.targetIndex;for(;l!==null;)if(o===f){n[a]=h.createBehavior(l);break}else l=r.nextNode(),o++}if(this.hasHostBehaviors){const c=this.hostBehaviorFactories;for(let h=0,f=c.length;h<f;++h,++a)n[a]=c[h].createBehavior(t)}return new Gs(i,n)}render(t,i,s){typeof i=="string"&&(i=document.getElementById(i)),s===void 0&&(s=i);const n=this.create(s);return n.bind(t,Vt),n.appendTo(i),n}}const _s=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function Re(e,...t){const i=[];let s="";for(let n=0,r=e.length-1;n<r;++n){const a=e[n];let o=t[n];if(s+=a,o instanceof ri){const l=o;o=()=>l}if(typeof o=="function"&&(o=new qe(o)),o instanceof Bi){const l=_s.exec(a);l!==null&&(o.targetName=l[2])}o instanceof We?(s+=o.createPlaceholder(i.length),i.push(o)):s+=o}return s+=e[e.length-1],new ri(s,i)}class A{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=this.behaviors===null?t:this.behaviors.concat(t),this}}A.create=(()=>{if(y.supportsAdoptedStyleSheets){const e=new Map;return t=>new Xs(t,e)}return e=>new Zs(e)})();function Ge(e){return e.map(t=>t instanceof A?Ge(t.styles):[t]).reduce((t,i)=>t.concat(i),[])}function ji(e){return e.map(t=>t instanceof A?t.behaviors:null).reduce((t,i)=>i===null?t:(t===null&&(t=[]),t.concat(i)),null)}class Xs extends A{constructor(t,i){super(),this.styles=t,this.styleSheetCache=i,this._styleSheets=void 0,this.behaviors=ji(t)}get styleSheets(){if(this._styleSheets===void 0){const t=this.styles,i=this.styleSheetCache;this._styleSheets=Ge(t).map(s=>{if(s instanceof CSSStyleSheet)return s;let n=i.get(s);return n===void 0&&(n=new CSSStyleSheet,n.replaceSync(s),i.set(s,n)),n})}return this._styleSheets}addStylesTo(t){t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(t)}removeStylesFrom(t){const i=this.styleSheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter(s=>i.indexOf(s)===-1),super.removeStylesFrom(t)}}let Ys=0;function Qs(){return`fast-style-class-${++Ys}`}class Zs extends A{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=ji(t),this.styleSheets=Ge(t),this.styleClass=Qs()}addStylesTo(t){const i=this.styleSheets,s=this.styleClass;t=this.normalizeTarget(t);for(let n=0;n<i.length;n++){const r=document.createElement("style");r.innerHTML=i[n],r.className=s,t.append(r)}super.addStylesTo(t)}removeStylesFrom(t){t=this.normalizeTarget(t);const i=t.querySelectorAll(`.${this.styleClass}`);for(let s=0,n=i.length;s<n;++s)t.removeChild(i[s]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const Hi=Object.freeze({locate:Oi()}),Js={toView(e){return e?"true":"false"},fromView(e){return!(e==null||e==="false"||e===!1||e===0)}},_e={toView(e){if(e==null)return null;const t=e*1;return isNaN(t)?null:t.toString()},fromView(e){if(e==null)return null;const t=e*1;return isNaN(t)?null:t}};class qt{constructor(t,i,s=i.toLowerCase(),n="reflect",r){this.guards=new Set,this.Owner=t,this.name=i,this.attribute=s,this.mode=n,this.converter=r,this.fieldName=`_${i}`,this.callbackName=`${i}Changed`,this.hasCallback=this.callbackName in t.prototype,n==="boolean"&&r===void 0&&(this.converter=Js)}setValue(t,i){const s=t[this.fieldName],n=this.converter;n!==void 0&&(i=n.fromView(i)),s!==i&&(t[this.fieldName]=i,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](s,i),t.$fastController.notify(this.name))}getValue(t){return k.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,i){this.guards.has(t)||(this.guards.add(t),this.setValue(t,i),this.guards.delete(t))}tryReflectToAttribute(t){const i=this.mode,s=this.guards;s.has(t)||i==="fromView"||y.queueUpdate(()=>{s.add(t);const n=t[this.fieldName];switch(i){case"reflect":const r=this.converter;y.setAttribute(t,this.attribute,r!==void 0?r.toView(n):n);break;case"boolean":y.setBooleanAttribute(t,this.attribute,n);break}s.delete(t)})}static collect(t,...i){const s=[];i.push(Hi.locate(t));for(let n=0,r=i.length;n<r;++n){const a=i[n];if(a!==void 0)for(let o=0,l=a.length;o<l;++o){const c=a[o];typeof c=="string"?s.push(new qt(t,c)):s.push(new qt(t,c.property,c.attribute,c.mode,c.converter))}}return s}}function B(e,t){let i;function s(n,r){arguments.length>1&&(i.property=r),Hi.locate(n.constructor).push(i)}if(arguments.length>1){i={},s(e,t);return}return i=e===void 0?{}:e,s}const oi={mode:"open"},ai={},Ne=kt.getById(4,()=>{const e=new Map;return Object.freeze({register(t){return e.has(t.type)?!1:(e.set(t.type,t),!0)},getByType(t){return e.get(t)}})});class Yt{constructor(t,i=t.definition){typeof i=="string"&&(i={name:i}),this.type=t,this.name=i.name,this.template=i.template;const s=qt.collect(t,i.attributes),n=new Array(s.length),r={},a={};for(let o=0,l=s.length;o<l;++o){const c=s[o];n[o]=c.attribute,r[c.name]=c,a[c.attribute]=c}this.attributes=s,this.observedAttributes=n,this.propertyLookup=r,this.attributeLookup=a,this.shadowOptions=i.shadowOptions===void 0?oi:i.shadowOptions===null?void 0:Object.assign(Object.assign({},oi),i.shadowOptions),this.elementOptions=i.elementOptions===void 0?ai:Object.assign(Object.assign({},ai),i.elementOptions),this.styles=i.styles===void 0?void 0:Array.isArray(i.styles)?A.create(i.styles):i.styles instanceof A?i.styles:A.create([i.styles])}get isDefined(){return!!Ne.getByType(this.type)}define(t=customElements){const i=this.type;if(Ne.register(this)){const s=this.attributes,n=i.prototype;for(let r=0,a=s.length;r<a;++r)k.defineProperty(n,s[r]);Reflect.defineProperty(i,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,i,this.elementOptions),this}}Yt.forType=Ne.getByType;const Wi=new WeakMap,Ks={bubbles:!0,composed:!0,cancelable:!0};function me(e){return e.shadowRoot||Wi.get(e)||null}class Xe extends Ei{constructor(t,i){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=i;const s=i.shadowOptions;if(s!==void 0){const r=t.attachShadow(s);s.mode==="closed"&&Wi.set(t,r)}const n=k.getAccessors(t);if(n.length>0){const r=this.boundObservables=Object.create(null);for(let a=0,o=n.length;a<o;++a){const l=n[a].name,c=t[l];c!==void 0&&(delete t[l],r[l]=c)}}}get isConnected(){return k.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,k.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(this._styles!==null&&this.removeStyles(this._styles),this._styles=t,!this.needsInitialization&&t!==null&&this.addStyles(t))}addStyles(t){const i=me(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)i.append(t);else if(!t.isAttachedTo(i)){const s=t.behaviors;t.addStylesTo(i),s!==null&&this.addBehaviors(s)}}removeStyles(t){const i=me(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)i.removeChild(t);else if(t.isAttachedTo(i)){const s=t.behaviors;t.removeStylesFrom(i),s!==null&&this.removeBehaviors(s)}}addBehaviors(t){const i=this.behaviors||(this.behaviors=new Map),s=t.length,n=[];for(let r=0;r<s;++r){const a=t[r];i.has(a)?i.set(a,i.get(a)+1):(i.set(a,1),n.push(a))}if(this._isConnected){const r=this.element;for(let a=0;a<n.length;++a)n[a].bind(r,Vt)}}removeBehaviors(t,i=!1){const s=this.behaviors;if(s===null)return;const n=t.length,r=[];for(let a=0;a<n;++a){const o=t[a];if(s.has(o)){const l=s.get(o)-1;l===0||i?s.delete(o)&&r.push(o):s.set(o,l)}}if(this._isConnected){const a=this.element;for(let o=0;o<r.length;++o)r[o].unbind(a)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():this.view!==null&&this.view.bind(t,Vt);const i=this.behaviors;if(i!==null)for(const[s]of i)s.bind(t,Vt);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;t!==null&&t.unbind();const i=this.behaviors;if(i!==null){const s=this.element;for(const[n]of i)n.unbind(s)}}onAttributeChangedCallback(t,i,s){const n=this.definition.attributeLookup[t];n!==void 0&&n.onAttributeChangedCallback(this.element,s)}emit(t,i,s){return this._isConnected?this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:i},Ks),s))):!1}finishInitialization(){const t=this.element,i=this.boundObservables;if(i!==null){const n=Object.keys(i);for(let r=0,a=n.length;r<a;++r){const o=n[r];t[o]=i[o]}this.boundObservables=null}const s=this.definition;this._template===null&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():s.template&&(this._template=s.template||null)),this._template!==null&&this.renderTemplate(this._template),this._styles===null&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():s.styles&&(this._styles=s.styles||null)),this._styles!==null&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const i=this.element,s=me(i)||i;this.view!==null?(this.view.dispose(),this.view=null):this.needsInitialization||y.removeChildNodes(s),t&&(this.view=t.render(i,s,i))}static forCustomElement(t){const i=t.$fastController;if(i!==void 0)return i;const s=Yt.forType(t.constructor);if(s===void 0)throw new Error("Missing FASTElement definition.");return t.$fastController=new Xe(t,s)}}function li(e){return class extends e{constructor(){super(),Xe.forCustomElement(this)}$emit(t,i,s){return this.$fastController.emit(t,i,s)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,i,s){this.$fastController.onAttributeChangedCallback(t,i,s)}}}const Qt=Object.assign(li(HTMLElement),{from(e){return li(e)},define(e,t){return new Yt(e,t).define().type}});class Ye{createCSS(){return""}createBehavior(){}}function qi(e,t){const i=[];let s="";const n=[];for(let r=0,a=e.length-1;r<a;++r){s+=e[r];let o=t[r];if(o instanceof Ye){const l=o.createBehavior();o=o.createCSS(),l&&n.push(l)}o instanceof A||o instanceof CSSStyleSheet?(s.trim()!==""&&(i.push(s),s=""),i.push(o)):s+=o}return s+=e[e.length-1],s.trim()!==""&&i.push(s),{styles:i,behaviors:n}}function Z(e,...t){const{styles:i,behaviors:s}=qi(e,t),n=A.create(i);return s.length&&n.withBehaviors(...s),n}class tn extends Ye{constructor(t,i){super(),this.behaviors=i,this.css="";const s=t.reduce((n,r)=>(typeof r=="string"?this.css+=r:n.push(r),n),[]);s.length&&(this.styles=A.create(s))}createBehavior(){return this}createCSS(){return this.css}bind(t){this.styles&&t.$fastController.addStyles(this.styles),this.behaviors.length&&t.$fastController.addBehaviors(this.behaviors)}unbind(t){this.styles&&t.$fastController.removeStyles(this.styles),this.behaviors.length&&t.$fastController.removeBehaviors(this.behaviors)}}function en(e,...t){const{styles:i,behaviors:s}=qi(e,t);return new tn(i,s)}class sn{constructor(t,i){this.target=t,this.propertyName=i}bind(t){t[this.propertyName]=this.target}unbind(){}}function Te(e){return new Rs("fast-ref",sn,e)}function nn(e,t){const i=typeof t=="function"?t:()=>t;return(s,n)=>e(s,n)?i(s,n):null}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function w(e,t,i,s){var n=arguments.length,r=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r}const ve=new Map;"metadata"in Reflect||(Reflect.metadata=function(e,t){return function(i){Reflect.defineMetadata(e,t,i)}},Reflect.defineMetadata=function(e,t,i){let s=ve.get(i);s===void 0&&ve.set(i,s=new Map),s.set(e,t)},Reflect.getOwnMetadata=function(e,t){const i=ve.get(t);if(i!==void 0)return i.get(e)});class rn{constructor(t,i){this.container=t,this.key=i}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,Gi(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,i){const{container:s,key:n}=this;return this.container=this.key=void 0,s.registerResolver(n,new W(n,t,i))}}function bt(e){const t=e.slice(),i=Object.keys(e),s=i.length;let n;for(let r=0;r<s;++r)n=i[r],_i(n)||(t[n]=e[n]);return t}const on=Object.freeze({none(e){throw Error(`${e.toString()} not registered, did you forget to add @singleton()?`)},singleton(e){return new W(e,1,e)},transient(e){return new W(e,2,e)}}),be=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:on.singleton})}),ci=new Map;function hi(e){return t=>Reflect.getOwnMetadata(e,t)}let ui=null;const x=Object.freeze({createContainer(e){return new Mt(null,Object.assign({},be.default,e))},findResponsibleContainer(e){const t=e.$$container$$;return t&&t.responsibleForOwnerRequests?t:x.findParentContainer(e)},findParentContainer(e){const t=new CustomEvent(Ui,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}});return e.dispatchEvent(t),t.detail.container||x.getOrCreateDOMContainer()},getOrCreateDOMContainer(e,t){return e?e.$$container$$||new Mt(e,Object.assign({},be.default,t,{parentLocator:x.findParentContainer})):ui||(ui=new Mt(null,Object.assign({},be.default,t,{parentLocator:()=>null})))},getDesignParamtypes:hi("design:paramtypes"),getAnnotationParamtypes:hi("di:paramtypes"),getOrCreateAnnotationParamTypes(e){let t=this.getAnnotationParamtypes(e);return t===void 0&&Reflect.defineMetadata("di:paramtypes",t=[],e),t},getDependencies(e){let t=ci.get(e);if(t===void 0){const i=e.inject;if(i===void 0){const s=x.getDesignParamtypes(e),n=x.getAnnotationParamtypes(e);if(s===void 0)if(n===void 0){const r=Object.getPrototypeOf(e);typeof r=="function"&&r!==Function.prototype?t=bt(x.getDependencies(r)):t=[]}else t=bt(n);else if(n===void 0)t=bt(s);else{t=bt(s);let r=n.length,a;for(let c=0;c<r;++c)a=n[c],a!==void 0&&(t[c]=a);const o=Object.keys(n);r=o.length;let l;for(let c=0;c<r;++c)l=o[c],_i(l)||(t[l]=n[l])}}else t=bt(i);ci.set(e,t)}return t},defineProperty(e,t,i,s=!1){const n=`$di_${t}`;Reflect.defineProperty(e,t,{get:function(){let r=this[n];if(r===void 0&&(r=(this instanceof HTMLElement?x.findResponsibleContainer(this):x.getOrCreateDOMContainer()).get(i),this[n]=r,s&&this instanceof Qt)){const o=this.$fastController,l=()=>{const h=x.findResponsibleContainer(this).get(i),f=this[n];h!==f&&(this[n]=r,o.notify(t))};o.subscribe({handleChange:l},"isConnected")}return r}})},createInterface(e,t){const i=typeof e=="function"?e:t,s=typeof e=="string"?e:e&&"friendlyName"in e&&e.friendlyName||pi,n=typeof e=="string"?!1:e&&"respectConnection"in e&&e.respectConnection||!1,r=function(a,o,l){if(a==null||new.target!==void 0)throw new Error(`No registration for interface: '${r.friendlyName}'`);if(o)x.defineProperty(a,o,r,n);else{const c=x.getOrCreateAnnotationParamTypes(a);c[l]=r}};return r.$isInterface=!0,r.friendlyName=s??"(anonymous)",i!=null&&(r.register=function(a,o){return i(new rn(a,o??r))}),r.toString=function(){return`InterfaceSymbol<${r.friendlyName}>`},r},inject(...e){return function(t,i,s){if(typeof s=="number"){const n=x.getOrCreateAnnotationParamTypes(t),r=e[0];r!==void 0&&(n[s]=r)}else if(i)x.defineProperty(t,i,e[0]);else{const n=s?x.getOrCreateAnnotationParamTypes(s.value):x.getOrCreateAnnotationParamTypes(t);let r;for(let a=0;a<e.length;++a)r=e[a],r!==void 0&&(n[a]=r)}}},transient(e){return e.register=function(i){return Rt.transient(e,e).register(i)},e.registerInRequestor=!1,e},singleton(e,t=ln){return e.register=function(s){return Rt.singleton(e,e).register(s)},e.registerInRequestor=t.scoped,e}}),an=x.createInterface("Container");x.inject;const ln={scoped:!1};class W{constructor(t,i,s){this.key=t,this.strategy=i,this.state=s,this.resolving=!1}get $isResolver(){return!0}register(t){return t.registerResolver(this.key,this)}resolve(t,i){switch(this.strategy){case 0:return this.state;case 1:{if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(i),this.strategy=0,this.resolving=!1,this.state}case 2:{const s=t.getFactory(this.state);if(s===null)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return s.construct(i)}case 3:return this.state(t,i,this);case 4:return this.state[0].resolve(t,i);case 5:return i.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(t){var i,s,n;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return(n=(s=(i=t.getResolver(this.state))===null||i===void 0?void 0:i.getFactory)===null||s===void 0?void 0:s.call(i,t))!==null&&n!==void 0?n:null;default:return null}}}function fi(e){return this.get(e)}function cn(e,t){return t(e)}class hn{constructor(t,i){this.Type=t,this.dependencies=i,this.transformers=null}construct(t,i){let s;return i===void 0?s=new this.Type(...this.dependencies.map(fi,t)):s=new this.Type(...this.dependencies.map(fi,t),...i),this.transformers==null?s:this.transformers.reduce(cn,s)}registerTransformer(t){(this.transformers||(this.transformers=[])).push(t)}}const un={$isResolver:!0,resolve(e,t){return t}};function Ht(e){return typeof e.register=="function"}function fn(e){return Ht(e)&&typeof e.registerInRequestor=="boolean"}function di(e){return fn(e)&&e.registerInRequestor}function dn(e){return e.prototype!==void 0}const gn=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),Ui="__DI_LOCATE_PARENT__",ye=new Map;class Mt{constructor(t,i){this.owner=t,this.config=i,this._parent=void 0,this.registerDepth=0,this.context=null,t!==null&&(t.$$container$$=this),this.resolvers=new Map,this.resolvers.set(an,un),t instanceof Node&&t.addEventListener(Ui,s=>{s.composedPath()[0]!==this.owner&&(s.detail.container=this,s.stopImmediatePropagation())})}get parent(){return this._parent===void 0&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return this.parent===null?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}registerWithContext(t,...i){return this.context=t,this.register(...i),this.context=null,this}register(...t){if(++this.registerDepth===100)throw new Error("Unable to autoregister dependency");let i,s,n,r,a;const o=this.context;for(let l=0,c=t.length;l<c;++l)if(i=t[l],!!mi(i))if(Ht(i))i.register(this,o);else if(dn(i))Rt.singleton(i,i).register(this);else for(s=Object.keys(i),r=0,a=s.length;r<a;++r)n=i[s[r]],mi(n)&&(Ht(n)?n.register(this,o):this.register(n));return--this.registerDepth,this}registerResolver(t,i){It(t);const s=this.resolvers,n=s.get(t);return n==null?s.set(t,i):n instanceof W&&n.strategy===4?n.state.push(i):s.set(t,new W(t,4,[n,i])),i}registerTransformer(t,i){const s=this.getResolver(t);if(s==null)return!1;if(s.getFactory){const n=s.getFactory(this);return n==null?!1:(n.registerTransformer(i),!0)}return!1}getResolver(t,i=!0){if(It(t),t.resolve!==void 0)return t;let s=this,n;for(;s!=null;)if(n=s.resolvers.get(t),n==null){if(s.parent==null){const r=di(t)?this:s;return i?this.jitRegister(t,r):null}s=s.parent}else return n;return null}has(t,i=!1){return this.resolvers.has(t)?!0:i&&this.parent!=null?this.parent.has(t,!0):!1}get(t){if(It(t),t.$isResolver)return t.resolve(this,this);let i=this,s;for(;i!=null;)if(s=i.resolvers.get(t),s==null){if(i.parent==null){const n=di(t)?this:i;return s=this.jitRegister(t,n),s.resolve(i,this)}i=i.parent}else return s.resolve(i,this);throw new Error(`Unable to resolve key: ${t}`)}getAll(t,i=!1){It(t);const s=this;let n=s,r;if(i){let a=jt;for(;n!=null;)r=n.resolvers.get(t),r!=null&&(a=a.concat(gi(r,n,s))),n=n.parent;return a}else for(;n!=null;)if(r=n.resolvers.get(t),r==null){if(n=n.parent,n==null)return jt}else return gi(r,n,s);return jt}getFactory(t){let i=ye.get(t);if(i===void 0){if(pn(t))throw new Error(`${t.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);ye.set(t,i=new hn(t,x.getDependencies(t)))}return i}registerFactory(t,i){ye.set(t,i)}createChild(t){return new Mt(null,Object.assign({},this.config,t,{parentLocator:()=>this}))}jitRegister(t,i){if(typeof t!="function")throw new Error(`Attempted to jitRegister something that is not a constructor: '${t}'. Did you forget to register this dependency?`);if(gn.has(t.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${t.name}. Did you forget to add @inject(Key)`);if(Ht(t)){const s=t.register(i);if(!(s instanceof Object)||s.resolve==null){const n=i.resolvers.get(t);if(n!=null)return n;throw new Error("A valid resolver was not returned from the static register method")}return s}else{if(t.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${t.friendlyName}`);{const s=this.config.defaultResolver(t,i);return i.resolvers.set(t,s),s}}}}const we=new WeakMap;function Gi(e){return function(t,i,s){if(we.has(s))return we.get(s);const n=e(t,i,s);return we.set(s,n),n}}const Rt=Object.freeze({instance(e,t){return new W(e,0,t)},singleton(e,t){return new W(e,1,t)},transient(e,t){return new W(e,2,t)},callback(e,t){return new W(e,3,t)},cachedCallback(e,t){return new W(e,3,Gi(t))},aliasTo(e,t){return new W(t,5,e)}});function It(e){if(e==null)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function gi(e,t,i){if(e instanceof W&&e.strategy===4){const s=e.state;let n=s.length;const r=new Array(n);for(;n--;)r[n]=s[n].resolve(t,i);return r}return[e.resolve(t,i)]}const pi="(anonymous)";function mi(e){return typeof e=="object"&&e!==null||typeof e=="function"}const pn=function(){const e=new WeakMap;let t=!1,i="",s=0;return function(n){return t=e.get(n),t===void 0&&(i=n.toString(),s=i.length,t=s>=29&&s<=100&&i.charCodeAt(s-1)===125&&i.charCodeAt(s-2)<=32&&i.charCodeAt(s-3)===93&&i.charCodeAt(s-4)===101&&i.charCodeAt(s-5)===100&&i.charCodeAt(s-6)===111&&i.charCodeAt(s-7)===99&&i.charCodeAt(s-8)===32&&i.charCodeAt(s-9)===101&&i.charCodeAt(s-10)===118&&i.charCodeAt(s-11)===105&&i.charCodeAt(s-12)===116&&i.charCodeAt(s-13)===97&&i.charCodeAt(s-14)===110&&i.charCodeAt(s-15)===88,e.set(n,t)),t}}(),At={};function _i(e){switch(typeof e){case"number":return e>=0&&(e|0)===e;case"string":{const t=At[e];if(t!==void 0)return t;const i=e.length;if(i===0)return At[e]=!1;let s=0;for(let n=0;n<i;++n)if(s=e.charCodeAt(n),n===0&&s===48&&i>1||s<48||s>57)return At[e]=!1;return At[e]=!0}default:return!1}}function vi(e){return`${e.toLowerCase()}:presentation`}const Et=new Map,Xi=Object.freeze({define(e,t,i){const s=vi(e);Et.get(s)===void 0?Et.set(s,t):Et.set(s,!1),i.register(Rt.instance(s,t))},forTag(e,t){const i=vi(e),s=Et.get(i);return s===!1?x.findResponsibleContainer(t).get(i):s||null}});class mn{constructor(t,i){this.template=t||null,this.styles=i===void 0?null:Array.isArray(i)?A.create(i):i instanceof A?i:A.create([i])}applyTo(t){const i=t.$fastController;i.template===null&&(i.template=this.template),i.styles===null&&(i.styles=this.styles)}}class J extends Qt{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return this._presentation===void 0&&(this._presentation=Xi.forTag(this.tagName,this)),this._presentation}templateChanged(){this.template!==void 0&&(this.$fastController.template=this.template)}stylesChanged(){this.styles!==void 0&&(this.$fastController.styles=this.styles)}connectedCallback(){this.$presentation!==null&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(t){return(i={})=>new vn(this===J?class extends J{}:this,t,i)}}w([V],J.prototype,"template",void 0);w([V],J.prototype,"styles",void 0);function yt(e,t,i){return typeof e=="function"?e(t,i):e}class vn{constructor(t,i,s){this.type=t,this.elementDefinition=i,this.overrideDefinition=s,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(t,i){const s=this.definition,n=this.overrideDefinition,a=`${s.prefix||i.elementPrefix}-${s.baseName}`;i.tryDefineElement({name:a,type:this.type,baseClass:this.elementDefinition.baseClass,callback:o=>{const l=new mn(yt(s.template,o,s),yt(s.styles,o,s));o.definePresentation(l);let c=yt(s.shadowOptions,o,s);o.shadowRootMode&&(c?n.shadowOptions||(c.mode=o.shadowRootMode):c!==null&&(c={mode:o.shadowRootMode})),o.defineElement({elementOptions:yt(s.elementOptions,o,s),shadowOptions:c,attributes:yt(s.attributes,o,s)})}})}}const E={horizontal:"horizontal",vertical:"vertical"};function bn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function yn(){const e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}let it;function wn(){if(typeof it=="boolean")return it;if(!bn())return it=!1,it;const e=document.createElement("style"),t=yn();t!==null&&e.setAttribute("nonce",t),document.head.appendChild(e);try{e.sheet.insertRule("foo:focus-visible {color:inherit}",0),it=!0}catch{it=!1}finally{document.head.removeChild(e)}return it}var bi;(function(e){e[e.alt=18]="alt",e[e.arrowDown=40]="arrowDown",e[e.arrowLeft=37]="arrowLeft",e[e.arrowRight=39]="arrowRight",e[e.arrowUp=38]="arrowUp",e[e.back=8]="back",e[e.backSlash=220]="backSlash",e[e.break=19]="break",e[e.capsLock=20]="capsLock",e[e.closeBracket=221]="closeBracket",e[e.colon=186]="colon",e[e.colon2=59]="colon2",e[e.comma=188]="comma",e[e.ctrl=17]="ctrl",e[e.delete=46]="delete",e[e.end=35]="end",e[e.enter=13]="enter",e[e.equals=187]="equals",e[e.equals2=61]="equals2",e[e.equals3=107]="equals3",e[e.escape=27]="escape",e[e.forwardSlash=191]="forwardSlash",e[e.function1=112]="function1",e[e.function10=121]="function10",e[e.function11=122]="function11",e[e.function12=123]="function12",e[e.function2=113]="function2",e[e.function3=114]="function3",e[e.function4=115]="function4",e[e.function5=116]="function5",e[e.function6=117]="function6",e[e.function7=118]="function7",e[e.function8=119]="function8",e[e.function9=120]="function9",e[e.home=36]="home",e[e.insert=45]="insert",e[e.menu=93]="menu",e[e.minus=189]="minus",e[e.minus2=109]="minus2",e[e.numLock=144]="numLock",e[e.numPad0=96]="numPad0",e[e.numPad1=97]="numPad1",e[e.numPad2=98]="numPad2",e[e.numPad3=99]="numPad3",e[e.numPad4=100]="numPad4",e[e.numPad5=101]="numPad5",e[e.numPad6=102]="numPad6",e[e.numPad7=103]="numPad7",e[e.numPad8=104]="numPad8",e[e.numPad9=105]="numPad9",e[e.numPadDivide=111]="numPadDivide",e[e.numPadDot=110]="numPadDot",e[e.numPadMinus=109]="numPadMinus",e[e.numPadMultiply=106]="numPadMultiply",e[e.numPadPlus=107]="numPadPlus",e[e.openBracket=219]="openBracket",e[e.pageDown=34]="pageDown",e[e.pageUp=33]="pageUp",e[e.period=190]="period",e[e.print=44]="print",e[e.quote=222]="quote",e[e.scrollLock=145]="scrollLock",e[e.shift=16]="shift",e[e.space=32]="space",e[e.tab=9]="tab",e[e.tilde=192]="tilde",e[e.windowsLeft=91]="windowsLeft",e[e.windowsOpera=219]="windowsOpera",e[e.windowsRight=92]="windowsRight"})(bi||(bi={}));const xn="ArrowDown",Sn="ArrowLeft",Fn="ArrowRight",Cn="ArrowUp",Dn="Enter",Vn="Home",Mn="End";var I;(function(e){e.ltr="ltr",e.rtl="rtl"})(I||(I={}));function kn(e,t,i){return Math.min(Math.max(i,e),t)}var L;(function(e){e.Canvas="Canvas",e.CanvasText="CanvasText",e.LinkText="LinkText",e.VisitedText="VisitedText",e.ActiveText="ActiveText",e.ButtonFace="ButtonFace",e.ButtonText="ButtonText",e.Field="Field",e.FieldText="FieldText",e.Highlight="Highlight",e.HighlightText="HighlightText",e.GrayText="GrayText"})(L||(L={}));const Pn=e=>{const t=e.closest("[dir]");return t!==null&&t.dir==="rtl"?I.rtl:I.ltr},yi="form-associated-proxy",wi="ElementInternals",xi=wi in window&&"setFormValue"in window[wi].prototype,Si=new WeakMap;function Rn(e){const t=class extends e{constructor(...i){super(...i),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return xi}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const i=this.proxy.labels,s=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),n=i?s.concat(Array.from(i)):s;return Object.freeze(n)}else return jt}valueChanged(i,s){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(i,s){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(i,s){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),y.queueUpdate(()=>this.classList.toggle("disabled",this.disabled))}nameChanged(i,s){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(i,s){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),y.queueUpdate(()=>this.classList.toggle("required",this.required)),this.validate()}get elementInternals(){if(!xi)return null;let i=Si.get(this);return i||(i=this.attachInternals(),Si.set(this,i)),i}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){this.proxyEventsToBlock.forEach(i=>this.proxy.removeEventListener(i,this.stopPropagation)),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(i,s,n){this.elementInternals?this.elementInternals.setValidity(i,s,n):typeof s=="string"&&this.proxy.setCustomValidity(s)}formDisabledCallback(i){this.disabled=i}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var i;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach(s=>this.proxy.addEventListener(s,this.stopPropagation)),this.proxy.disabled=this.disabled,this.proxy.required=this.required,typeof this.name=="string"&&(this.proxy.name=this.name),typeof this.value=="string"&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",yi),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",yi)),(i=this.shadowRoot)===null||i===void 0||i.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var i;this.removeChild(this.proxy),(i=this.shadowRoot)===null||i===void 0||i.removeChild(this.proxySlot)}validate(i){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,i)}setFormValue(i,s){this.elementInternals&&this.elementInternals.setFormValue(i,s||i)}_keypressHandler(i){switch(i.key){case Dn:if(this.form instanceof HTMLFormElement){const s=this.form.querySelector("[type=submit]");s==null||s.click()}break}}stopPropagation(i){i.stopPropagation()}};return B({mode:"boolean"})(t.prototype,"disabled"),B({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),B({attribute:"current-value"})(t.prototype,"currentValue"),B(t.prototype,"name"),B({mode:"boolean"})(t.prototype,"required"),V(t.prototype,"value"),t}function $e(e){const t=e.parentElement;if(t)return t;{const i=e.getRootNode();if(i.host instanceof HTMLElement)return i.host}return null}function Nn(e,t){let i=t;for(;i!==null;){if(i===e)return!0;i=$e(i)}return!1}const Y=document.createElement("div");function Tn(e){return e instanceof Qt}class Qe{setProperty(t,i){y.queueUpdate(()=>this.target.setProperty(t,i))}removeProperty(t){y.queueUpdate(()=>this.target.removeProperty(t))}}class $n extends Qe{constructor(t){super();const i=new CSSStyleSheet;this.target=i.cssRules[i.insertRule(":host{}")].style,t.$fastController.addStyles(A.create([i]))}}class Ln extends Qe{constructor(){super();const t=new CSSStyleSheet;this.target=t.cssRules[t.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}}class On extends Qe{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:t}=this.style;if(t){const i=t.insertRule(":root{}",t.cssRules.length);this.target=t.cssRules[i].style}}}class Yi{constructor(t){this.store=new Map,this.target=null;const i=t.$fastController;this.style=document.createElement("style"),i.addStyles(this.style),k.getNotifier(i).subscribe(this,"isConnected"),this.handleChange(i,"isConnected")}targetChanged(){if(this.target!==null)for(const[t,i]of this.store.entries())this.target.setProperty(t,i)}setProperty(t,i){this.store.set(t,i),y.queueUpdate(()=>{this.target!==null&&this.target.setProperty(t,i)})}removeProperty(t){this.store.delete(t),y.queueUpdate(()=>{this.target!==null&&this.target.removeProperty(t)})}handleChange(t,i){const{sheet:s}=this.style;if(s){const n=s.insertRule(":host{}",s.cssRules.length);this.target=s.cssRules[n].style}else this.target=null}}w([V],Yi.prototype,"target",void 0);class In{constructor(t){this.target=t.style}setProperty(t,i){y.queueUpdate(()=>this.target.setProperty(t,i))}removeProperty(t){y.queueUpdate(()=>this.target.removeProperty(t))}}class M{setProperty(t,i){M.properties[t]=i;for(const s of M.roots.values())ot.getOrCreate(M.normalizeRoot(s)).setProperty(t,i)}removeProperty(t){delete M.properties[t];for(const i of M.roots.values())ot.getOrCreate(M.normalizeRoot(i)).removeProperty(t)}static registerRoot(t){const{roots:i}=M;if(!i.has(t)){i.add(t);const s=ot.getOrCreate(this.normalizeRoot(t));for(const n in M.properties)s.setProperty(n,M.properties[n])}}static unregisterRoot(t){const{roots:i}=M;if(i.has(t)){i.delete(t);const s=ot.getOrCreate(M.normalizeRoot(t));for(const n in M.properties)s.removeProperty(n)}}static normalizeRoot(t){return t===Y?document:t}}M.roots=new Set;M.properties={};const xe=new WeakMap,An=y.supportsAdoptedStyleSheets?$n:Yi,ot=Object.freeze({getOrCreate(e){if(xe.has(e))return xe.get(e);let t;return e===Y?t=new M:e instanceof Document?t=y.supportsAdoptedStyleSheets?new Ln:new On:Tn(e)?t=new An(e):t=new In(e),xe.set(e,t),t}});class O extends Ye{constructor(t){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=t.name,t.cssCustomPropertyName!==null&&(this.cssCustomProperty=`--${t.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=O.uniqueId(),O.tokensById.set(this.id,this)}get appliedTo(){return[...this._appliedTo]}static from(t){return new O({name:typeof t=="string"?t:t.name,cssCustomPropertyName:typeof t=="string"?t:t.cssCustomPropertyName===void 0?t.name:t.cssCustomPropertyName})}static isCSSDesignToken(t){return typeof t.cssCustomProperty=="string"}static isDerivedDesignTokenValue(t){return typeof t=="function"}static getTokenById(t){return O.tokensById.get(t)}getOrCreateSubscriberSet(t=this){return this.subscribers.get(t)||this.subscribers.set(t,new Set)&&this.subscribers.get(t)}createCSS(){return this.cssVar||""}getValueFor(t){const i=S.getOrCreate(t).get(this);if(i!==void 0)return i;throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${t} or an ancestor of ${t}.`)}setValueFor(t,i){return this._appliedTo.add(t),i instanceof O&&(i=this.alias(i)),S.getOrCreate(t).set(this,i),this}deleteValueFor(t){return this._appliedTo.delete(t),S.existsFor(t)&&S.getOrCreate(t).delete(this),this}withDefault(t){return this.setValueFor(Y,t),this}subscribe(t,i){const s=this.getOrCreateSubscriberSet(i);i&&!S.existsFor(i)&&S.getOrCreate(i),s.has(t)||s.add(t)}unsubscribe(t,i){const s=this.subscribers.get(i||this);s&&s.has(t)&&s.delete(t)}notify(t){const i=Object.freeze({token:this,target:t});this.subscribers.has(this)&&this.subscribers.get(this).forEach(s=>s.handleChange(i)),this.subscribers.has(t)&&this.subscribers.get(t).forEach(s=>s.handleChange(i))}alias(t){return i=>t.getValueFor(i)}}O.uniqueId=(()=>{let e=0;return()=>(e++,e.toString(16))})();O.tokensById=new Map;class En{startReflection(t,i){t.subscribe(this,i),this.handleChange({token:t,target:i})}stopReflection(t,i){t.unsubscribe(this,i),this.remove(t,i)}handleChange(t){const{token:i,target:s}=t;this.add(i,s)}add(t,i){ot.getOrCreate(i).setProperty(t.cssCustomProperty,this.resolveCSSValue(S.getOrCreate(i).get(t)))}remove(t,i){ot.getOrCreate(i).removeProperty(t.cssCustomProperty)}resolveCSSValue(t){return t&&typeof t.createCSS=="function"?t.createCSS():t}}class Bn{constructor(t,i,s){this.source=t,this.token=i,this.node=s,this.dependencies=new Set,this.observer=k.binding(t,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){this.node.store.set(this.token,this.observer.observe(this.node.target,Vt))}}class zn{constructor(){this.values=new Map}set(t,i){this.values.get(t)!==i&&(this.values.set(t,i),k.getNotifier(this).notify(t.id))}get(t){return k.track(this,t.id),this.values.get(t)}delete(t){this.values.delete(t)}all(){return this.values.entries()}}const wt=new WeakMap,xt=new WeakMap;class S{constructor(t){this.target=t,this.store=new zn,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(i,s)=>{const n=O.getTokenById(s);if(n&&(n.notify(this.target),O.isCSSDesignToken(n))){const r=this.parent,a=this.isReflecting(n);if(r){const o=r.get(n),l=i.get(n);o!==l&&!a?this.reflectToCSS(n):o===l&&a&&this.stopReflectToCSS(n)}else a||this.reflectToCSS(n)}}},wt.set(t,this),k.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),t instanceof Qt?t.$fastController.addBehaviors([this]):t.isConnected&&this.bind()}static getOrCreate(t){return wt.get(t)||new S(t)}static existsFor(t){return wt.has(t)}static findParent(t){if(Y!==t.target){let i=$e(t.target);for(;i!==null;){if(wt.has(i))return wt.get(i);i=$e(i)}return S.getOrCreate(Y)}return null}static findClosestAssignedNode(t,i){let s=i;do{if(s.has(t))return s;s=s.parent?s.parent:s.target!==Y?S.getOrCreate(Y):null}while(s!==null);return null}get parent(){return xt.get(this)||null}has(t){return this.assignedValues.has(t)}get(t){const i=this.store.get(t);if(i!==void 0)return i;const s=this.getRaw(t);if(s!==void 0)return this.hydrate(t,s),this.get(t)}getRaw(t){var i;return this.assignedValues.has(t)?this.assignedValues.get(t):(i=S.findClosestAssignedNode(t,this))===null||i===void 0?void 0:i.getRaw(t)}set(t,i){O.isDerivedDesignTokenValue(this.assignedValues.get(t))&&this.tearDownBindingObserver(t),this.assignedValues.set(t,i),O.isDerivedDesignTokenValue(i)?this.setupBindingObserver(t,i):this.store.set(t,i)}delete(t){this.assignedValues.delete(t),this.tearDownBindingObserver(t);const i=this.getRaw(t);i?this.hydrate(t,i):this.store.delete(t)}bind(){const t=S.findParent(this);t&&t.appendChild(this);for(const i of this.assignedValues.keys())i.notify(this.target)}unbind(){this.parent&&xt.get(this).removeChild(this)}appendChild(t){t.parent&&xt.get(t).removeChild(t);const i=this.children.filter(s=>t.contains(s));xt.set(t,this),this.children.push(t),i.forEach(s=>t.appendChild(s)),k.getNotifier(this.store).subscribe(t);for(const[s,n]of this.store.all())t.hydrate(s,this.bindingObservers.has(s)?this.getRaw(s):n)}removeChild(t){const i=this.children.indexOf(t);return i!==-1&&this.children.splice(i,1),k.getNotifier(this.store).unsubscribe(t),t.parent===this?xt.delete(t):!1}contains(t){return Nn(this.target,t.target)}reflectToCSS(t){this.isReflecting(t)||(this.reflecting.add(t),S.cssCustomPropertyReflector.startReflection(t,this.target))}stopReflectToCSS(t){this.isReflecting(t)&&(this.reflecting.delete(t),S.cssCustomPropertyReflector.stopReflection(t,this.target))}isReflecting(t){return this.reflecting.has(t)}handleChange(t,i){const s=O.getTokenById(i);s&&this.hydrate(s,this.getRaw(s))}hydrate(t,i){if(!this.has(t)){const s=this.bindingObservers.get(t);O.isDerivedDesignTokenValue(i)?s?s.source!==i&&(this.tearDownBindingObserver(t),this.setupBindingObserver(t,i)):this.setupBindingObserver(t,i):(s&&this.tearDownBindingObserver(t),this.store.set(t,i))}}setupBindingObserver(t,i){const s=new Bn(i,t,this);return this.bindingObservers.set(t,s),s}tearDownBindingObserver(t){return this.bindingObservers.has(t)?(this.bindingObservers.get(t).disconnect(),this.bindingObservers.delete(t),!0):!1}}S.cssCustomPropertyReflector=new En;w([V],S.prototype,"children",void 0);function jn(e){return O.from(e)}const Zt=Object.freeze({create:jn,notifyConnection(e){return!e.isConnected||!S.existsFor(e)?!1:(S.getOrCreate(e).bind(),!0)},notifyDisconnection(e){return e.isConnected||!S.existsFor(e)?!1:(S.getOrCreate(e).unbind(),!0)},registerRoot(e=Y){M.registerRoot(e)},unregisterRoot(e=Y){M.unregisterRoot(e)}}),Se=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),Fe=new Map,Wt=new Map;let at=null;const St=x.createInterface(e=>e.cachedCallback(t=>(at===null&&(at=new Zi(null,t)),at))),Qi=Object.freeze({tagFor(e){return Wt.get(e)},responsibleFor(e){const t=e.$$designSystem$$;return t||x.findResponsibleContainer(e).get(St)},getOrCreate(e){if(!e)return at===null&&(at=x.getOrCreateDOMContainer().get(St)),at;const t=e.$$designSystem$$;if(t)return t;const i=x.getOrCreateDOMContainer(e);if(i.has(St,!1))return i.get(St);{const s=new Zi(e,i);return i.register(Rt.instance(St,s)),s}}});function Hn(e,t,i){return typeof e=="string"?{name:e,type:t,callback:i}:e}class Zi{constructor(t,i){this.owner=t,this.container=i,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>Se.definitionCallbackOnly,t!==null&&(t.$$designSystem$$=this)}withPrefix(t){return this.prefix=t,this}withShadowRootMode(t){return this.shadowRootMode=t,this}withElementDisambiguation(t){return this.disambiguate=t,this}withDesignTokenRoot(t){return this.designTokenRoot=t,this}register(...t){const i=this.container,s=[],n=this.disambiguate,r=this.shadowRootMode,a={elementPrefix:this.prefix,tryDefineElement(o,l,c){const h=Hn(o,l,c),{name:f,callback:g,baseClass:b}=h;let{type:m}=h,p=f,$=Fe.get(p),et=!0;for(;$;){const _=n(p,m,$);switch(_){case Se.ignoreDuplicate:return;case Se.definitionCallbackOnly:et=!1,$=void 0;break;default:p=_,$=Fe.get(p);break}}et&&((Wt.has(m)||m===J)&&(m=class extends m{}),Fe.set(p,m),Wt.set(m,p),b&&Wt.set(b,p)),s.push(new Wn(i,p,m,r,g,et))}};this.designTokensInitialized||(this.designTokensInitialized=!0,this.designTokenRoot!==null&&Zt.registerRoot(this.designTokenRoot)),i.registerWithContext(a,...t);for(const o of s)o.callback(o),o.willDefine&&o.definition!==null&&o.definition.define();return this}}class Wn{constructor(t,i,s,n,r,a){this.container=t,this.name=i,this.type=s,this.shadowRootMode=n,this.callback=r,this.willDefine=a,this.definition=null}definePresentation(t){Xi.define(this.name,t,this.container)}defineElement(t){this.definition=new Yt(this.type,Object.assign(Object.assign({},t),{name:this.name}))}tagFor(t){return Qi.tagFor(t)}}const qn=(e,t)=>Re`
    <template
        aria-disabled="${i=>i.disabled}"
        class="${i=>i.sliderOrientation||E.horizontal}
            ${i=>i.disabled?"disabled":""}"
    >
        <div ${Te("root")} part="root" class="root" style="${i=>i.positionStyle}">
            <div class="container">
                ${nn(i=>!i.hideMark,Re`
                        <div class="mark"></div>
                    `)}
                <div class="label">
                    <slot></slot>
                </div>
            </div>
        </div>
    </template>
`;function Le(e,t,i,s){let n=kn(0,1,(e-t)/(i-t));return s===I.rtl&&(n=1-n),n}const Bt={min:0,max:0,direction:I.ltr,orientation:E.horizontal,disabled:!1};let G=class extends J{constructor(){super(...arguments),this.hideMark=!1,this.sliderDirection=I.ltr,this.getSliderConfiguration=()=>{if(!this.isSliderConfig(this.parentNode))this.sliderDirection=Bt.direction||I.ltr,this.sliderOrientation=Bt.orientation,this.sliderMaxPosition=Bt.max,this.sliderMinPosition=Bt.min;else{const t=this.parentNode,{min:i,max:s,direction:n,orientation:r,disabled:a}=t;a!==void 0&&(this.disabled=a),this.sliderDirection=n||I.ltr,this.sliderOrientation=r||E.horizontal,this.sliderMaxPosition=s,this.sliderMinPosition=i}},this.positionAsStyle=()=>{const t=this.sliderDirection?this.sliderDirection:I.ltr,i=Le(Number(this.position),Number(this.sliderMinPosition),Number(this.sliderMaxPosition));let s=Math.round((1-i)*100),n=Math.round(i*100);return Number.isNaN(n)&&Number.isNaN(s)&&(s=50,n=50),this.sliderOrientation===E.horizontal?t===I.rtl?`right: ${n}%; left: ${s}%;`:`left: ${n}%; right: ${s}%;`:`top: ${n}%; bottom: ${s}%;`}}positionChanged(){this.positionStyle=this.positionAsStyle()}sliderOrientationChanged(){}connectedCallback(){super.connectedCallback(),this.getSliderConfiguration(),this.positionStyle=this.positionAsStyle(),this.notifier=k.getNotifier(this.parentNode),this.notifier.subscribe(this,"orientation"),this.notifier.subscribe(this,"direction"),this.notifier.subscribe(this,"max"),this.notifier.subscribe(this,"min")}disconnectedCallback(){super.disconnectedCallback(),this.notifier.unsubscribe(this,"orientation"),this.notifier.unsubscribe(this,"direction"),this.notifier.unsubscribe(this,"max"),this.notifier.unsubscribe(this,"min")}handleChange(t,i){switch(i){case"direction":this.sliderDirection=t.direction;break;case"orientation":this.sliderOrientation=t.orientation;break;case"max":this.sliderMaxPosition=t.max;break;case"min":this.sliderMinPosition=t.min;break}this.positionStyle=this.positionAsStyle()}isSliderConfig(t){return t.max!==void 0&&t.min!==void 0}};w([V],G.prototype,"positionStyle",void 0);w([B],G.prototype,"position",void 0);w([B({attribute:"hide-mark",mode:"boolean"})],G.prototype,"hideMark",void 0);w([B({attribute:"disabled",mode:"boolean"})],G.prototype,"disabled",void 0);w([V],G.prototype,"sliderOrientation",void 0);w([V],G.prototype,"sliderMinPosition",void 0);w([V],G.prototype,"sliderMaxPosition",void 0);w([V],G.prototype,"sliderDirection",void 0);const Un=(e,t)=>Re`
    <template
        role="slider"
        class="${i=>i.readOnly?"readonly":""}
        ${i=>i.orientation||E.horizontal}"
        tabindex="${i=>i.disabled?null:0}"
        aria-valuetext="${i=>i.valueTextFormatter(i.value)}"
        aria-valuenow="${i=>i.value}"
        aria-valuemin="${i=>i.min}"
        aria-valuemax="${i=>i.max}"
        aria-disabled="${i=>i.disabled?!0:void 0}"
        aria-readonly="${i=>i.readOnly?!0:void 0}"
        aria-orientation="${i=>i.orientation}"
        class="${i=>i.orientation}"
    >
        <div part="positioning-region" class="positioning-region">
            <div ${Te("track")} part="track-container" class="track">
                <slot name="track"></slot>
                <div part="track-start" class="track-start" style="${i=>i.position}">
                    <slot name="track-start"></slot>
                </div>
            </div>
            <slot></slot>
            <div
                ${Te("thumb")}
                part="thumb-container"
                class="thumb-container"
                style="${i=>i.position}"
            >
                <slot name="thumb">${t.thumb||""}</slot>
            </div>
        </div>
    </template>
`;class Gn extends J{}class _n extends Rn(Gn){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const Xn={singleValue:"single-value"};class T extends _n{constructor(){super(...arguments),this.direction=I.ltr,this.isDragging=!1,this.trackWidth=0,this.trackMinWidth=0,this.trackHeight=0,this.trackLeft=0,this.trackMinHeight=0,this.valueTextFormatter=()=>null,this.min=0,this.max=10,this.step=1,this.orientation=E.horizontal,this.mode=Xn.singleValue,this.keypressHandler=t=>{if(!this.readOnly){if(t.key===Vn)t.preventDefault(),this.value=`${this.min}`;else if(t.key===Mn)t.preventDefault(),this.value=`${this.max}`;else if(!t.shiftKey)switch(t.key){case Fn:case Cn:t.preventDefault(),this.increment();break;case Sn:case xn:t.preventDefault(),this.decrement();break}}},this.setupTrackConstraints=()=>{const t=this.track.getBoundingClientRect();this.trackWidth=this.track.clientWidth,this.trackMinWidth=this.track.clientLeft,this.trackHeight=t.bottom,this.trackMinHeight=t.top,this.trackLeft=this.getBoundingClientRect().left,this.trackWidth===0&&(this.trackWidth=1)},this.setupListeners=(t=!1)=>{const i=`${t?"remove":"add"}EventListener`;this[i]("keydown",this.keypressHandler),this[i]("mousedown",this.handleMouseDown),this.thumb[i]("mousedown",this.handleThumbMouseDown,{passive:!0}),this.thumb[i]("touchstart",this.handleThumbMouseDown,{passive:!0}),t&&(this.handleMouseDown(null),this.handleThumbMouseDown(null))},this.initialValue="",this.handleThumbMouseDown=t=>{if(t){if(this.readOnly||this.disabled||t.defaultPrevented)return;t.target.focus()}const i=`${t!==null?"add":"remove"}EventListener`;window[i]("mouseup",this.handleWindowMouseUp),window[i]("mousemove",this.handleMouseMove,{passive:!0}),window[i]("touchmove",this.handleMouseMove,{passive:!0}),window[i]("touchend",this.handleWindowMouseUp),this.isDragging=t!==null},this.handleMouseMove=t=>{if(this.readOnly||this.disabled||t.defaultPrevented)return;const i=window.TouchEvent&&t instanceof TouchEvent?t.touches[0]:t,s=this.orientation===E.horizontal?i.pageX-document.documentElement.scrollLeft-this.trackLeft:i.pageY-document.documentElement.scrollTop;this.value=`${this.calculateNewValue(s)}`},this.calculateNewValue=t=>{const i=Le(t,this.orientation===E.horizontal?this.trackMinWidth:this.trackMinHeight,this.orientation===E.horizontal?this.trackWidth:this.trackHeight,this.direction),s=(this.max-this.min)*i+this.min;return this.convertToConstrainedValue(s)},this.handleWindowMouseUp=t=>{this.stopDragging()},this.stopDragging=()=>{this.isDragging=!1,this.handleMouseDown(null),this.handleThumbMouseDown(null)},this.handleMouseDown=t=>{const i=`${t!==null?"add":"remove"}EventListener`;if((t===null||!this.disabled&&!this.readOnly)&&(window[i]("mouseup",this.handleWindowMouseUp),window.document[i]("mouseleave",this.handleWindowMouseUp),window[i]("mousemove",this.handleMouseMove),t)){t.preventDefault(),this.setupTrackConstraints(),t.target.focus();const s=this.orientation===E.horizontal?t.pageX-document.documentElement.scrollLeft-this.trackLeft:t.pageY-document.documentElement.scrollTop;this.value=`${this.calculateNewValue(s)}`}},this.convertToConstrainedValue=t=>{isNaN(t)&&(t=this.min);let i=t-this.min;const s=Math.round(i/this.step),n=i-s*(this.stepMultiplier*this.step)/this.stepMultiplier;return i=n>=Number(this.step)/2?i-n+Number(this.step):i-n,i+this.min}}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}get valueAsNumber(){return parseFloat(super.value)}set valueAsNumber(t){this.value=t.toString()}valueChanged(t,i){super.valueChanged(t,i),this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction),this.$emit("change")}minChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.min=`${this.min}`),this.validate()}maxChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.max=`${this.max}`),this.validate()}stepChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.step=`${this.step}`),this.updateStepMultiplier(),this.validate()}orientationChanged(){this.$fastController.isConnected&&this.setThumbPositionForOrientation(this.direction)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","range"),this.direction=Pn(this),this.updateStepMultiplier(),this.setupTrackConstraints(),this.setupListeners(),this.setupDefaultValue(),this.setThumbPositionForOrientation(this.direction)}disconnectedCallback(){this.setupListeners(!0)}increment(){const t=this.direction!==I.rtl&&this.orientation!==E.vertical?Number(this.value)+Number(this.step):Number(this.value)-Number(this.step),i=this.convertToConstrainedValue(t),s=i<Number(this.max)?`${i}`:`${this.max}`;this.value=s}decrement(){const t=this.direction!==I.rtl&&this.orientation!==E.vertical?Number(this.value)-Number(this.step):Number(this.value)+Number(this.step),i=this.convertToConstrainedValue(t),s=i>Number(this.min)?`${i}`:`${this.min}`;this.value=s}setThumbPositionForOrientation(t){const s=(1-Le(Number(this.value),Number(this.min),Number(this.max),t))*100;this.orientation===E.horizontal?this.position=this.isDragging?`right: ${s}%; transition: none;`:`right: ${s}%; transition: all 0.2s ease;`:this.position=this.isDragging?`bottom: ${s}%; transition: none;`:`bottom: ${s}%; transition: all 0.2s ease;`}updateStepMultiplier(){const t=this.step+"",i=this.step%1?t.length-t.indexOf(".")-1:0;this.stepMultiplier=Math.pow(10,i)}get midpoint(){return`${this.convertToConstrainedValue((this.max+this.min)/2)}`}setupDefaultValue(){if(typeof this.value=="string")if(this.value.length===0)this.initialValue=this.midpoint;else{const t=parseFloat(this.value);!Number.isNaN(t)&&(t<this.min||t>this.max)&&(this.value=this.midpoint)}}}w([B({attribute:"readonly",mode:"boolean"})],T.prototype,"readOnly",void 0);w([V],T.prototype,"direction",void 0);w([V],T.prototype,"isDragging",void 0);w([V],T.prototype,"position",void 0);w([V],T.prototype,"trackWidth",void 0);w([V],T.prototype,"trackMinWidth",void 0);w([V],T.prototype,"trackHeight",void 0);w([V],T.prototype,"trackLeft",void 0);w([V],T.prototype,"trackMinHeight",void 0);w([V],T.prototype,"valueTextFormatter",void 0);w([B({converter:_e})],T.prototype,"min",void 0);w([B({converter:_e})],T.prototype,"max",void 0);w([B({converter:_e})],T.prototype,"step",void 0);w([B],T.prototype,"orientation",void 0);w([B],T.prototype,"mode",void 0);class Yn{constructor(t){this.listenerCache=new WeakMap,this.query=t}bind(t){const{query:i}=this,s=this.constructListener(t);s.bind(i)(),i.addListener(s),this.listenerCache.set(t,s)}unbind(t){const i=this.listenerCache.get(t);i&&(this.query.removeListener(i),this.listenerCache.delete(t))}}class Lt extends Yn{constructor(t,i){super(t),this.styles=i}static with(t){return i=>new Lt(t,i)}constructListener(t){let i=!1;const s=this.styles;return function(){const{matches:r}=this;r&&!i?(t.$fastController.addStyles(s),i=r):!r&&i&&(t.$fastController.removeStyles(s),i=r)}}unbind(t){super.unbind(t),t.$fastController.removeStyles(this.styles)}}const Ji=Lt.with(window.matchMedia("(forced-colors)"));Lt.with(window.matchMedia("(prefers-color-scheme: dark)"));Lt.with(window.matchMedia("(prefers-color-scheme: light)"));const Qn="not-allowed",Zn=":host([hidden]){display:none}";function Ki(e){return`${Zn}:host{display:${e}}`}const Ce=wn()?"focus-visible":"focus";function X(e,t,i){return isNaN(e)||e<=t?t:e>=i?i:e}function De(e,t,i){return isNaN(e)||e<=t?0:e>=i?1:e/(i-t)}function st(e,t,i){return isNaN(e)?t:t+e*(i-t)}function Fi(e){return e*(Math.PI/180)}function Jn(e){return e*(180/Math.PI)}function Kn(e){const t=Math.round(X(e,0,255)).toString(16);return t.length===1?"0"+t:t}function N(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:t+e*(i-t)}function Ze(e,t,i){if(e<=0)return t%360;if(e>=1)return i%360;const s=(t-i+360)%360,n=(i-t+360)%360;return s<=n?(t-s*e+360)%360:(t+s*e+360)%360}function D(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}class nt{constructor(t,i,s){this.h=t,this.s=i,this.l=s}static fromObject(t){return t&&!isNaN(t.h)&&!isNaN(t.s)&&!isNaN(t.l)?new nt(t.h,t.s,t.l):null}equalValue(t){return this.h===t.h&&this.s===t.s&&this.l===t.l}roundToPrecision(t){return new nt(D(this.h,t),D(this.s,t),D(this.l,t))}toObject(){return{h:this.h,s:this.s,l:this.l}}}class Nt{constructor(t,i,s){this.h=t,this.s=i,this.v=s}static fromObject(t){return t&&!isNaN(t.h)&&!isNaN(t.s)&&!isNaN(t.v)?new Nt(t.h,t.s,t.v):null}equalValue(t){return this.h===t.h&&this.s===t.s&&this.v===t.v}roundToPrecision(t){return new Nt(D(this.h,t),D(this.s,t),D(this.v,t))}toObject(){return{h:this.h,s:this.s,v:this.v}}}class P{constructor(t,i,s){this.l=t,this.a=i,this.b=s}static fromObject(t){return t&&!isNaN(t.l)&&!isNaN(t.a)&&!isNaN(t.b)?new P(t.l,t.a,t.b):null}equalValue(t){return this.l===t.l&&this.a===t.a&&this.b===t.b}roundToPrecision(t){return new P(D(this.l,t),D(this.a,t),D(this.b,t))}toObject(){return{l:this.l,a:this.a,b:this.b}}}P.epsilon=216/24389;P.kappa=24389/27;class lt{constructor(t,i,s){this.l=t,this.c=i,this.h=s}static fromObject(t){return t&&!isNaN(t.l)&&!isNaN(t.c)&&!isNaN(t.h)?new lt(t.l,t.c,t.h):null}equalValue(t){return this.l===t.l&&this.c===t.c&&this.h===t.h}roundToPrecision(t){return new lt(D(this.l,t),D(this.c,t),D(this.h,t))}toObject(){return{l:this.l,c:this.c,h:this.h}}}class F{constructor(t,i,s,n){this.r=t,this.g=i,this.b=s,this.a=typeof n=="number"&&!isNaN(n)?n:1}static fromObject(t){return t&&!isNaN(t.r)&&!isNaN(t.g)&&!isNaN(t.b)?new F(t.r,t.g,t.b,t.a):null}equalValue(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(st(this.r,0,255))},${Math.round(st(this.g,0,255))},${Math.round(st(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(st(this.r,0,255))},${Math.round(st(this.g,0,255))},${Math.round(st(this.b,0,255))},${X(this.a,0,1)})`}roundToPrecision(t){return new F(D(this.r,t),D(this.g,t),D(this.b,t),D(this.a,t))}clamp(){return new F(X(this.r,0,1),X(this.g,0,1),X(this.b,0,1),X(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(t){return Kn(st(t,0,255))}}class z{constructor(t,i,s){this.x=t,this.y=i,this.z=s}static fromObject(t){return t&&!isNaN(t.x)&&!isNaN(t.y)&&!isNaN(t.z)?new z(t.x,t.y,t.z):null}equalValue(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}roundToPrecision(t){return new z(D(this.x,t),D(this.y,t),D(this.z,t))}toObject(){return{x:this.x,y:this.y,z:this.z}}}z.whitePoint=new z(.95047,1,1.08883);function Oe(e){return e.r*.2126+e.g*.7152+e.b*.0722}function Ie(e){function t(i){return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return Oe(new F(t(e.r),t(e.g),t(e.b),1))}const Ci=(e,t)=>(e+.05)/(t+.05);function Di(e,t){const i=Ie(e),s=Ie(t);return i>s?Ci(i,s):Ci(s,i)}function Tt(e){const t=Math.max(e.r,e.g,e.b),i=Math.min(e.r,e.g,e.b),s=t-i;let n=0;s!==0&&(t===e.r?n=60*((e.g-e.b)/s%6):t===e.g?n=60*((e.b-e.r)/s+2):n=60*((e.r-e.g)/s+4)),n<0&&(n+=360);const r=(t+i)/2;let a=0;return s!==0&&(a=s/(1-Math.abs(2*r-1))),new nt(n,a,r)}function Ae(e,t=1){const i=(1-Math.abs(2*e.l-1))*e.s,s=i*(1-Math.abs(e.h/60%2-1)),n=e.l-i/2;let r=0,a=0,o=0;return e.h<60?(r=i,a=s,o=0):e.h<120?(r=s,a=i,o=0):e.h<180?(r=0,a=i,o=s):e.h<240?(r=0,a=s,o=i):e.h<300?(r=s,a=0,o=i):e.h<360&&(r=i,a=0,o=s),new F(r+n,a+n,o+n,t)}function Vi(e){const t=Math.max(e.r,e.g,e.b),i=Math.min(e.r,e.g,e.b),s=t-i;let n=0;s!==0&&(t===e.r?n=60*((e.g-e.b)/s%6):t===e.g?n=60*((e.b-e.r)/s+2):n=60*((e.r-e.g)/s+4)),n<0&&(n+=360);let r=0;return t!==0&&(r=s/t),new Nt(n,r,t)}function tr(e,t=1){const i=e.s*e.v,s=i*(1-Math.abs(e.h/60%2-1)),n=e.v-i;let r=0,a=0,o=0;return e.h<60?(r=i,a=s,o=0):e.h<120?(r=s,a=i,o=0):e.h<180?(r=0,a=i,o=s):e.h<240?(r=0,a=s,o=i):e.h<300?(r=s,a=0,o=i):e.h<360&&(r=i,a=0,o=s),new F(r+n,a+n,o+n,t)}function er(e){let t=0,i=0;return e.h!==0&&(t=Math.cos(Fi(e.h))*e.c,i=Math.sin(Fi(e.h))*e.c),new P(e.l,t,i)}function ir(e){let t=0;(Math.abs(e.b)>.001||Math.abs(e.a)>.001)&&(t=Jn(Math.atan2(e.b,e.a))),t<0&&(t+=360);const i=Math.sqrt(e.a*e.a+e.b*e.b);return new lt(e.l,i,t)}function sr(e){const t=(e.l+16)/116,i=t+e.a/500,s=t-e.b/200,n=Math.pow(i,3),r=Math.pow(t,3),a=Math.pow(s,3);let o=0;n>P.epsilon?o=n:o=(116*i-16)/P.kappa;let l=0;e.l>P.epsilon*P.kappa?l=r:l=e.l/P.kappa;let c=0;return a>P.epsilon?c=a:c=(116*s-16)/P.kappa,o=z.whitePoint.x*o,l=z.whitePoint.y*l,c=z.whitePoint.z*c,new z(o,l,c)}function nr(e){function t(l){return l>P.epsilon?Math.pow(l,1/3):(P.kappa*l+16)/116}const i=t(e.x/z.whitePoint.x),s=t(e.y/z.whitePoint.y),n=t(e.z/z.whitePoint.z),r=116*s-16,a=500*(i-s),o=200*(s-n);return new P(r,a,o)}function Ee(e){function t(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}const i=t(e.r),s=t(e.g),n=t(e.b),r=i*.4124564+s*.3575761+n*.1804375,a=i*.2126729+s*.7151522+n*.072175,o=i*.0193339+s*.119192+n*.9503041;return new z(r,a,o)}function ts(e,t=1){function i(a){return a<=.0031308?a*12.92:1.055*Math.pow(a,1/2.4)-.055}const s=i(e.x*3.2404542-e.y*1.5371385-e.z*.4985314),n=i(e.x*-.969266+e.y*1.8760108+e.z*.041556),r=i(e.x*.0556434-e.y*.2040259+e.z*1.0572252);return new F(s,n,r,t)}function Be(e){return nr(Ee(e))}function es(e,t=1){return ts(sr(e),t)}function ze(e){return ir(Be(e))}function is(e,t=1){return es(er(e),t)}function Mi(e,t,i=18){const s=ze(e);let n=s.c+t*i;return n<0&&(n=0),is(new lt(s.l,n,s.h))}function Ve(e,t){return e*t}function ki(e,t){return new F(Ve(e.r,t.r),Ve(e.g,t.g),Ve(e.b,t.b),1)}function Me(e,t){return e<.5?X(2*t*e,0,1):X(1-2*(1-t)*(1-e),0,1)}function Pi(e,t){return new F(Me(e.r,t.r),Me(e.g,t.g),Me(e.b,t.b),1)}var Ri;(function(e){e[e.Burn=0]="Burn",e[e.Color=1]="Color",e[e.Darken=2]="Darken",e[e.Dodge=3]="Dodge",e[e.Lighten=4]="Lighten",e[e.Multiply=5]="Multiply",e[e.Overlay=6]="Overlay",e[e.Screen=7]="Screen"})(Ri||(Ri={}));function rr(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new F(N(e,t.r,i.r),N(e,t.g,i.g),N(e,t.b,i.b),N(e,t.a,i.a))}function or(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new nt(Ze(e,t.h,i.h),N(e,t.s,i.s),N(e,t.l,i.l))}function ar(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new Nt(Ze(e,t.h,i.h),N(e,t.s,i.s),N(e,t.v,i.v))}function lr(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new z(N(e,t.x,i.x),N(e,t.y,i.y),N(e,t.z,i.z))}function cr(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new P(N(e,t.l,i.l),N(e,t.a,i.a),N(e,t.b,i.b))}function hr(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new lt(N(e,t.l,i.l),N(e,t.c,i.c),Ze(e,t.h,i.h))}var H;(function(e){e[e.RGB=0]="RGB",e[e.HSL=1]="HSL",e[e.HSV=2]="HSV",e[e.XYZ=3]="XYZ",e[e.LAB=4]="LAB",e[e.LCH=5]="LCH"})(H||(H={}));function Ft(e,t,i,s){if(isNaN(e)||e<=0)return i;if(e>=1)return s;switch(t){case H.HSL:return Ae(or(e,Tt(i),Tt(s)));case H.HSV:return tr(ar(e,Vi(i),Vi(s)));case H.XYZ:return ts(lr(e,Ee(i),Ee(s)));case H.LAB:return es(cr(e,Be(i),Be(s)));case H.LCH:return is(hr(e,ze(i),ze(s)));default:return rr(e,i,s)}}class q{constructor(t){if(t==null||t.length===0)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(t)}static createBalancedColorScale(t){if(t==null||t.length===0)throw new Error("The colors argument must be non-empty");const i=new Array(t.length);for(let s=0;s<t.length;s++)s===0?i[s]={color:t[s],position:0}:s===t.length-1?i[s]={color:t[s],position:1}:i[s]={color:t[s],position:s*(1/(t.length-1))};return new q(i)}getColor(t,i=H.RGB){if(this.stops.length===1)return this.stops[0].color;if(t<=0)return this.stops[0].color;if(t>=1)return this.stops[this.stops.length-1].color;let s=0;for(let a=0;a<this.stops.length;a++)this.stops[a].position<=t&&(s=a);let n=s+1;n>=this.stops.length&&(n=this.stops.length-1);const r=(t-this.stops[s].position)*(1/(this.stops[n].position-this.stops[s].position));return Ft(r,i,this.stops[s].color,this.stops[n].color)}trim(t,i,s=H.RGB){if(t<0||i>1||i<t)throw new Error("Invalid bounds");if(t===i)return new q([{color:this.getColor(t,s),position:0}]);const n=[];for(let o=0;o<this.stops.length;o++)this.stops[o].position>=t&&this.stops[o].position<=i&&n.push(this.stops[o]);if(n.length===0)return new q([{color:this.getColor(t),position:t},{color:this.getColor(i),position:i}]);n[0].position!==t&&n.unshift({color:this.getColor(t),position:t}),n[n.length-1].position!==i&&n.push({color:this.getColor(i),position:i});const r=i-t,a=new Array(n.length);for(let o=0;o<n.length;o++)a[o]={color:n[o].color,position:(n[o].position-t)/r};return new q(a)}findNextColor(t,i,s=!1,n=H.RGB,r=.005,a=32){isNaN(t)||t<=0?t=0:t>=1&&(t=1);const o=this.getColor(t,n),l=s?0:1,c=this.getColor(l,n);if(Di(o,c)<=i)return l;let f=s?0:t,g=s?t:0,b=l,m=0;for(;m<=a;){b=Math.abs(g-f)/2+f;const p=this.getColor(b,n),$=Di(o,p);if(Math.abs($-i)<=r)return b;$>i?s?f=b:g=b:s?g=b:f=b,m++}return b}clone(){const t=new Array(this.stops.length);for(let i=0;i<t.length;i++)t[i]={color:this.stops[i].color,position:this.stops[i].position};return new q(t)}sortColorScaleStops(t){return t.sort((i,s)=>{const n=i.position,r=s.position;return n<r?-1:n>r?1:0})}}const ur=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i;function ft(e){const t=ur.exec(e);if(t===null)return null;let i=t[1];if(i.length===3){const n=i.charAt(0),r=i.charAt(1),a=i.charAt(2);i=n.concat(n,r,r,a,a)}const s=parseInt(i,16);return isNaN(s)?null:new F(De((s&16711680)>>>16,0,255),De((s&65280)>>>8,0,255),De(s&255,0,255),1)}class K{constructor(t){this.config=Object.assign({},K.defaultPaletteConfig,t),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(t){let i=!1;for(const s in t)this.config[s]&&(this.config[s].equalValue?this.config[s].equalValue(t[s])||(this.config[s]=t[s],i=!0):t[s]!==this.config[s]&&(this.config[s]=t[s],i=!0));return i&&this.updatePaletteColors(),i}updatePaletteColors(){const t=this.generatePaletteColorScale();for(let i=0;i<this.config.steps;i++)this.palette[i]=t.getColor(i/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const t=Tt(this.config.baseColor),s=new q([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark),n=s.getColor(0),r=s.getColor(1);let a=n,o=r;if(t.s>=this.config.saturationAdjustmentCutoff&&(a=Mi(a,this.config.saturationLight),o=Mi(o,this.config.saturationDark)),this.config.multiplyLight!==0){const l=ki(this.config.baseColor,a);a=Ft(this.config.multiplyLight,this.config.interpolationMode,a,l)}if(this.config.multiplyDark!==0){const l=ki(this.config.baseColor,o);o=Ft(this.config.multiplyDark,this.config.interpolationMode,o,l)}if(this.config.overlayLight!==0){const l=Pi(this.config.baseColor,a);a=Ft(this.config.overlayLight,this.config.interpolationMode,a,l)}if(this.config.overlayDark!==0){const l=Pi(this.config.baseColor,o);o=Ft(this.config.overlayDark,this.config.interpolationMode,o,l)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new q([{position:0,color:this.config.baseColor},{position:1,color:o.clamp()}]):this.config.baseScalePosition>=1?new q([{position:0,color:a.clamp()},{position:1,color:this.config.baseColor}]):new q([{position:0,color:a.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:o.clamp()}]):new q([{position:0,color:a.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:o.clamp()}])}}K.defaultPaletteConfig={baseColor:ft("#808080"),steps:11,interpolationMode:H.RGB,scaleColorLight:new F(1,1,1,1),scaleColorDark:new F(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5};K.greyscalePaletteConfig={baseColor:ft("#808080"),steps:11,interpolationMode:H.RGB,scaleColorLight:new F(1,1,1,1),scaleColorDark:new F(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5};K.defaultPaletteConfig.scaleColorLight,K.defaultPaletteConfig.scaleColorDark;class Jt{constructor(t){this.palette=[],this.config=Object.assign({},Jt.defaultPaletteConfig,t),this.regenPalettes()}regenPalettes(){let t=this.config.steps;(isNaN(t)||t<3)&&(t=3);const i=.14,s=.06,n=new F(i,i,i,1),r=94,o=new K(Object.assign(Object.assign({},K.greyscalePaletteConfig),{baseColor:n,baseScalePosition:(1-i)*100/r,steps:t})).palette,l=Oe(this.config.baseColor),c=Tt(this.config.baseColor).l,h=(l+c)/2,g=this.matchRelativeLuminanceIndex(h,o)/(t-1),m=this.matchRelativeLuminanceIndex(i,o)/(t-1),p=Tt(this.config.baseColor),$=Ae(nt.fromObject({h:p.h,s:p.s,l:i})),et=Ae(nt.fromObject({h:p.h,s:p.s,l:s})),_=new Array(5);_[0]={position:0,color:new F(1,1,1,1)},_[1]={position:g,color:this.config.baseColor},_[2]={position:m,color:$},_[3]={position:.99,color:et},_[4]={position:1,color:new F(0,0,0,1)};const ws=new q(_);this.palette=new Array(t);for(let Ot=0;Ot<t;Ot++){const xs=ws.getColor(Ot/(t-1),H.RGB);this.palette[Ot]=xs}}matchRelativeLuminanceIndex(t,i){let s=Number.MAX_VALUE,n=0,r=0;const a=i.length;for(;r<a;r++){const o=Math.abs(Oe(i[r])-t);o<s&&(s=o,n=r)}return n}}Jt.defaultPaletteConfig={baseColor:ft("#808080"),steps:94};function ss(e,t){const i=e.relativeLuminance>t.relativeLuminance?e:t,s=e.relativeLuminance>t.relativeLuminance?t:e;return(i.relativeLuminance+.05)/(s.relativeLuminance+.05)}const tt=Object.freeze({create(e,t,i){return new Ut(e,t,i)},from(e){return new Ut(e.r,e.g,e.b)}});function fr(e){const t={r:0,g:0,b:0,toColorString:()=>"",contrast:()=>0,relativeLuminance:0};for(const i in t)if(typeof t[i]!=typeof e[i])return!1;return!0}class Ut extends F{constructor(t,i,s){super(t,i,s,1),this.toColorString=this.toStringHexRGB,this.contrast=ss.bind(null,this),this.createCSS=this.toColorString,this.relativeLuminance=Ie(this)}static fromObject(t){return new Ut(t.r,t.g,t.b)}}function je(e,t,i=0,s=e.length-1){if(s===i)return e[i];const n=Math.floor((s-i)/2)+i;return t(e[n])?je(e,t,i,n):je(e,t,n+1,s)}const dr=(-.1+Math.sqrt(.21))/2;function gr(e){return e.relativeLuminance<=dr}function rt(e){return gr(e)?-1:1}function pr(e,t,i){return typeof e=="number"?Gt.from(tt.create(e,t,i)):Gt.from(e)}function mr(e){return fr(e)?_t.from(e):_t.from(tt.create(e.r,e.g,e.b))}const Gt=Object.freeze({create:pr,from:mr});class _t{constructor(t,i){this.closestIndexCache=new Map,this.source=t,this.swatches=i,this.reversedSwatches=Object.freeze([...this.swatches].reverse()),this.lastIndex=this.swatches.length-1}colorContrast(t,i,s,n){s===void 0&&(s=this.closestIndexOf(t));let r=this.swatches;const a=this.lastIndex;let o=s;n===void 0&&(n=rt(t));const l=c=>ss(t,c)>=i;return n===-1&&(r=this.reversedSwatches,o=a-o),je(r,l,o,a)}get(t){return this.swatches[t]||this.swatches[X(t,0,this.lastIndex)]}closestIndexOf(t){if(this.closestIndexCache.has(t.relativeLuminance))return this.closestIndexCache.get(t.relativeLuminance);let i=this.swatches.indexOf(t);if(i!==-1)return this.closestIndexCache.set(t.relativeLuminance,i),i;const s=this.swatches.reduce((n,r)=>Math.abs(r.relativeLuminance-t.relativeLuminance)<Math.abs(n.relativeLuminance-t.relativeLuminance)?r:n);return i=this.swatches.indexOf(s),this.closestIndexCache.set(t.relativeLuminance,i),i}static from(t){return new _t(t,Object.freeze(new Jt({baseColor:F.fromObject(t)}).palette.map(i=>{const s=ft(i.toStringHexRGB());return tt.create(s.r,s.g,s.b)})))}}function vr(e,t,i,s,n,r,a,o,l){const c=e.source,h=t.closestIndexOf(i),f=Math.max(a,o,l),g=h>=f?-1:1,m=e.closestIndexOf(c),p=m+g*-1*s,$=p+g*n,et=p+g*r;return{rest:e.get(p),hover:e.get(m),active:e.get($),focus:e.get(et)}}function br(e,t,i,s,n,r,a){const o=e.source,l=e.closestIndexOf(o),c=rt(t),h=l+(c===1?Math.min(s,n):Math.max(c*s,c*n)),f=e.colorContrast(t,i,h,c),g=e.closestIndexOf(f),b=g+c*Math.abs(s-n),m=c===1?s<n:c*s>c*n;let p,$;return m?(p=g,$=b):(p=b,$=g),{rest:e.get(p),hover:e.get($),active:e.get(p+c*r),focus:e.get(p+c*a)}}const Ni=tt.create(1,1,1),yr=tt.create(0,0,0),wr=tt.from(ft("#808080")),xr=tt.from(ft("#DA1A5F"));function Sr(e,t){return e.contrast(Ni)>=t?Ni:yr}function Fr(e,t,i,s,n,r){const a=e.closestIndexOf(t),o=Math.max(i,s,n,r),l=a>=o?-1:1;return{rest:e.get(a+l*i),hover:e.get(a+l*s),active:e.get(a+l*n),focus:e.get(a+l*r)}}function Cr(e,t,i,s,n,r){const a=rt(t),o=e.closestIndexOf(t);return{rest:e.get(o-a*i),hover:e.get(o-a*s),active:e.get(o-a*n),focus:e.get(o-a*r)}}function Dr(e,t,i){const s=e.closestIndexOf(t);return e.get(s-(s<i?i*-1:i))}function Vr(e,t,i,s,n,r,a,o,l,c){const h=Math.max(i,s,n,r,a,o,l,c),f=e.closestIndexOf(t),g=f>=h?-1:1;return{rest:e.get(f+g*i),hover:e.get(f+g*s),active:e.get(f+g*n),focus:e.get(f+g*r)}}function Mr(e,t,i,s,n,r){const a=rt(t),o=e.closestIndexOf(e.colorContrast(t,4.5)),l=o+a*Math.abs(i-s),c=a===1?i<s:a*i>a*s;let h,f;return c?(h=o,f=l):(h=l,f=o),{rest:e.get(h),hover:e.get(f),active:e.get(h+a*n),focus:e.get(h+a*r)}}function kr(e,t){return e.colorContrast(t,3.5)}function Pr(e,t,i){return e.colorContrast(i,3.5,e.closestIndexOf(e.source),rt(t)*-1)}function Rr(e,t){return e.colorContrast(t,14)}function Nr(e,t){return e.colorContrast(t,4.5)}function Kt(e){return tt.create(e,e,e)}const Tr={LightMode:1,DarkMode:.23};function $r(e,t,i){return e.get(e.closestIndexOf(Kt(t))+i)}function Lr(e,t,i){const s=e.closestIndexOf(Kt(t))-i;return e.get(s-i)}function Or(e,t){return e.get(e.closestIndexOf(Kt(t)))}function Je(e,t,i,s,n,r){return Math.max(e.closestIndexOf(Kt(t))+i,s,n,r)}function Ir(e,t,i,s,n,r){return e.get(Je(e,t,i,s,n,r))}function Ar(e,t,i,s,n,r){return e.get(Je(e,t,i,s,n,r)+i)}function Er(e,t,i,s,n,r){return e.get(Je(e,t,i,s,n,r)+i*2)}function Br(e,t,i,s,n,r){const a=e.closestIndexOf(t),o=rt(t),l=a+o*i,c=l+o*(s-i),h=l+o*(n-i),f=l+o*(r-i);return{rest:e.get(l),hover:e.get(c),active:e.get(h),focus:e.get(f)}}function zr(e,t,i){return e.get(e.closestIndexOf(t)+rt(t)*i)}const{create:u}=Zt;function d(e){return Zt.create({name:e,cssCustomPropertyName:null})}const jr=u("body-font").withDefault('aktiv-grotesk, "Segoe UI", Arial, Helvetica, sans-serif'),ns=u("base-height-multiplier").withDefault(10);u("base-horizontal-spacing-multiplier").withDefault(3);const dt=u("base-layer-luminance").withDefault(Tr.DarkMode),zt=u("control-corner-radius").withDefault(4),rs=u("density").withDefault(0),U=u("design-unit").withDefault(4),ke=u("direction").withDefault(I.ltr),os=u("disabled-opacity").withDefault(.3);u("stroke-width").withDefault(1);u("focus-stroke-width").withDefault(2);u("type-ramp-base-font-size").withDefault("14px");u("type-ramp-base-line-height").withDefault("20px");u("type-ramp-minus-1-font-size").withDefault("12px");u("type-ramp-minus-1-line-height").withDefault("16px");u("type-ramp-minus-2-font-size").withDefault("10px");u("type-ramp-minus-2-line-height").withDefault("16px");u("type-ramp-plus-1-font-size").withDefault("16px");u("type-ramp-plus-1-line-height").withDefault("24px");u("type-ramp-plus-2-font-size").withDefault("20px");u("type-ramp-plus-2-line-height").withDefault("28px");u("type-ramp-plus-3-font-size").withDefault("28px");u("type-ramp-plus-3-line-height").withDefault("36px");u("type-ramp-plus-4-font-size").withDefault("34px");u("type-ramp-plus-4-line-height").withDefault("44px");u("type-ramp-plus-5-font-size").withDefault("46px");u("type-ramp-plus-5-line-height").withDefault("56px");u("type-ramp-plus-6-font-size").withDefault("60px");u("type-ramp-plus-6-line-height").withDefault("72px");d("accent-fill-rest-delta").withDefault(0);const Hr=d("accent-fill-hover-delta").withDefault(4),Wr=d("accent-fill-active-delta").withDefault(-5),qr=d("accent-fill-focus-delta").withDefault(0),Ur=d("accent-foreground-rest-delta").withDefault(0),Gr=d("accent-foreground-hover-delta").withDefault(6),_r=d("accent-foreground-active-delta").withDefault(-4),Xr=d("accent-foreground-focus-delta").withDefault(0),gt=d("neutral-fill-rest-delta").withDefault(7),pt=d("neutral-fill-hover-delta").withDefault(10),mt=d("neutral-fill-active-delta").withDefault(5),as=d("neutral-fill-focus-delta").withDefault(0),Yr=d("neutral-fill-input-rest-delta").withDefault(0),Qr=d("neutral-fill-input-hover-delta").withDefault(0),Zr=d("neutral-fill-input-active-delta").withDefault(0),Jr=d("neutral-fill-input-focus-delta").withDefault(0),Kr=d("neutral-fill-stealth-rest-delta").withDefault(0),to=d("neutral-fill-stealth-hover-delta").withDefault(5),eo=d("neutral-fill-stealth-active-delta").withDefault(3),io=d("neutral-fill-stealth-focus-delta").withDefault(0),so=d("neutral-fill-strong-rest-delta").withDefault(0),no=d("neutral-fill-strong-hover-delta").withDefault(8),ro=d("neutral-fill-strong-active-delta").withDefault(-5),oo=d("neutral-fill-strong-focus-delta").withDefault(0),vt=d("neutral-fill-layer-rest-delta").withDefault(3),ao=d("neutral-stroke-rest-delta").withDefault(25),lo=d("neutral-stroke-hover-delta").withDefault(40),co=d("neutral-stroke-active-delta").withDefault(16),ho=d("neutral-stroke-focus-delta").withDefault(25),uo=d("neutral-stroke-divider-rest-delta").withDefault(8),fo=u("neutral-color").withDefault(wr),R=d("neutral-palette").withDefault(e=>Gt.from(fo.getValueFor(e))),go=u("accent-color").withDefault(xr),Ke=d("accent-palette").withDefault(e=>Gt.from(go.getValueFor(e))),po=d("neutral-layer-card-container-recipe").withDefault({evaluate:e=>$r(R.getValueFor(e),dt.getValueFor(e),vt.getValueFor(e))});u("neutral-layer-card-container").withDefault(e=>po.getValueFor(e).evaluate(e));const mo=d("neutral-layer-floating-recipe").withDefault({evaluate:e=>Lr(R.getValueFor(e),dt.getValueFor(e),vt.getValueFor(e))});u("neutral-layer-floating").withDefault(e=>mo.getValueFor(e).evaluate(e));const vo=d("neutral-layer-1-recipe").withDefault({evaluate:e=>Or(R.getValueFor(e),dt.getValueFor(e))}),bo=u("neutral-layer-1").withDefault(e=>vo.getValueFor(e).evaluate(e)),yo=d("neutral-layer-2-recipe").withDefault({evaluate:e=>Ir(R.getValueFor(e),dt.getValueFor(e),vt.getValueFor(e),gt.getValueFor(e),pt.getValueFor(e),mt.getValueFor(e))});u("neutral-layer-2").withDefault(e=>yo.getValueFor(e).evaluate(e));const wo=d("neutral-layer-3-recipe").withDefault({evaluate:e=>Ar(R.getValueFor(e),dt.getValueFor(e),vt.getValueFor(e),gt.getValueFor(e),pt.getValueFor(e),mt.getValueFor(e))});u("neutral-layer-3").withDefault(e=>wo.getValueFor(e).evaluate(e));const xo=d("neutral-layer-4-recipe").withDefault({evaluate:e=>Er(R.getValueFor(e),dt.getValueFor(e),vt.getValueFor(e),gt.getValueFor(e),pt.getValueFor(e),mt.getValueFor(e))});u("neutral-layer-4").withDefault(e=>xo.getValueFor(e).evaluate(e));const j=u("fill-color").withDefault(e=>bo.getValueFor(e));var $t;(function(e){e[e.normal=4.5]="normal",e[e.large=7]="large"})($t||($t={}));const te=u({name:"accent-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>vr(Ke.getValueFor(e),R.getValueFor(e),t||j.getValueFor(e),Hr.getValueFor(e),Wr.getValueFor(e),qr.getValueFor(e),gt.getValueFor(e),pt.getValueFor(e),mt.getValueFor(e))}),ti=u("accent-fill-rest").withDefault(e=>te.getValueFor(e).evaluate(e).rest),ls=u("accent-fill-hover").withDefault(e=>te.getValueFor(e).evaluate(e).hover),cs=u("accent-fill-active").withDefault(e=>te.getValueFor(e).evaluate(e).active),hs=u("accent-fill-focus").withDefault(e=>te.getValueFor(e).evaluate(e).focus),us=e=>(t,i)=>Sr(i||ti.getValueFor(t),e),ee=d("foreground-on-accent-recipe").withDefault({evaluate:(e,t)=>us($t.normal)(e,t)});u("foreground-on-accent-rest").withDefault(e=>ee.getValueFor(e).evaluate(e,ti.getValueFor(e)));u("foreground-on-accent-hover").withDefault(e=>ee.getValueFor(e).evaluate(e,ls.getValueFor(e)));u("foreground-on-accent-active").withDefault(e=>ee.getValueFor(e).evaluate(e,cs.getValueFor(e)));u("foreground-on-accent-focus").withDefault(e=>ee.getValueFor(e).evaluate(e,hs.getValueFor(e)));const ie=d("foreground-on-accent-large-recipe").withDefault({evaluate:(e,t)=>us($t.large)(e,t)});u("foreground-on-accent-rest-large").withDefault(e=>ie.getValueFor(e).evaluate(e,ti.getValueFor(e)));u("foreground-on-accent-hover-large").withDefault(e=>ie.getValueFor(e).evaluate(e,ls.getValueFor(e)));u("foreground-on-accent-active-large").withDefault(e=>ie.getValueFor(e).evaluate(e,cs.getValueFor(e)));u("foreground-on-accent-focus-large").withDefault(e=>ie.getValueFor(e).evaluate(e,hs.getValueFor(e)));const So=e=>(t,i)=>br(Ke.getValueFor(t),i||j.getValueFor(t),e,Ur.getValueFor(t),Gr.getValueFor(t),_r.getValueFor(t),Xr.getValueFor(t)),se=u({name:"accent-foreground-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>So($t.normal)(e,t)}),Fo=u("accent-foreground-rest").withDefault(e=>se.getValueFor(e).evaluate(e).rest);u("accent-foreground-hover").withDefault(e=>se.getValueFor(e).evaluate(e).hover);u("accent-foreground-active").withDefault(e=>se.getValueFor(e).evaluate(e).active);u("accent-foreground-focus").withDefault(e=>se.getValueFor(e).evaluate(e).focus);const ne=u({name:"neutral-fill-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Fr(R.getValueFor(e),t||j.getValueFor(e),gt.getValueFor(e),pt.getValueFor(e),mt.getValueFor(e),as.getValueFor(e))});u("neutral-fill-rest").withDefault(e=>ne.getValueFor(e).evaluate(e).rest);u("neutral-fill-hover").withDefault(e=>ne.getValueFor(e).evaluate(e).hover);u("neutral-fill-active").withDefault(e=>ne.getValueFor(e).evaluate(e).active);u("neutral-fill-focus").withDefault(e=>ne.getValueFor(e).evaluate(e).focus);const re=u({name:"neutral-fill-input-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Cr(R.getValueFor(e),t||j.getValueFor(e),Yr.getValueFor(e),Qr.getValueFor(e),Zr.getValueFor(e),Jr.getValueFor(e))});u("neutral-fill-input-rest").withDefault(e=>re.getValueFor(e).evaluate(e).rest);u("neutral-fill-input-hover").withDefault(e=>re.getValueFor(e).evaluate(e).hover);u("neutral-fill-input-active").withDefault(e=>re.getValueFor(e).evaluate(e).active);u("neutral-fill-input-focus").withDefault(e=>re.getValueFor(e).evaluate(e).focus);const oe=u({name:"neutral-fill-stealth-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Vr(R.getValueFor(e),t||j.getValueFor(e),Kr.getValueFor(e),to.getValueFor(e),eo.getValueFor(e),io.getValueFor(e),gt.getValueFor(e),pt.getValueFor(e),mt.getValueFor(e),as.getValueFor(e))});u("neutral-fill-stealth-rest").withDefault(e=>oe.getValueFor(e).evaluate(e).rest);u("neutral-fill-stealth-hover").withDefault(e=>oe.getValueFor(e).evaluate(e).hover);u("neutral-fill-stealth-active").withDefault(e=>oe.getValueFor(e).evaluate(e).active);u("neutral-fill-stealth-focus").withDefault(e=>oe.getValueFor(e).evaluate(e).focus);const ae=u({name:"neutral-fill-strong-recipe",cssCustomPropertyName:null}).withDefault({evaluate:(e,t)=>Mr(R.getValueFor(e),t||j.getValueFor(e),so.getValueFor(e),no.getValueFor(e),ro.getValueFor(e),oo.getValueFor(e))});u("neutral-fill-strong-rest").withDefault(e=>ae.getValueFor(e).evaluate(e).rest);u("neutral-fill-strong-hover").withDefault(e=>ae.getValueFor(e).evaluate(e).hover);u("neutral-fill-strong-active").withDefault(e=>ae.getValueFor(e).evaluate(e).active);u("neutral-fill-strong-focus").withDefault(e=>ae.getValueFor(e).evaluate(e).focus);const Co=d("neutral-fill-layer-recipe").withDefault({evaluate:(e,t)=>Dr(R.getValueFor(e),t||j.getValueFor(e),vt.getValueFor(e))});u("neutral-fill-layer-rest").withDefault(e=>Co.getValueFor(e).evaluate(e));const Do=d("focus-stroke-outer-recipe").withDefault({evaluate:e=>kr(R.getValueFor(e),j.getValueFor(e))}),fs=u("focus-stroke-outer").withDefault(e=>Do.getValueFor(e).evaluate(e)),Vo=d("focus-stroke-inner-recipe").withDefault({evaluate:e=>Pr(Ke.getValueFor(e),j.getValueFor(e),fs.getValueFor(e))});u("focus-stroke-inner").withDefault(e=>Vo.getValueFor(e).evaluate(e));const Mo=d("neutral-foreground-hint-recipe").withDefault({evaluate:e=>Nr(R.getValueFor(e),j.getValueFor(e))});u("neutral-foreground-hint").withDefault(e=>Mo.getValueFor(e).evaluate(e));const ko=d("neutral-foreground-recipe").withDefault({evaluate:e=>Rr(R.getValueFor(e),j.getValueFor(e))}),Ct=u("neutral-foreground-rest").withDefault(e=>ko.getValueFor(e).evaluate(e)),le=u({name:"neutral-stroke-recipe",cssCustomPropertyName:null}).withDefault({evaluate:e=>Br(R.getValueFor(e),j.getValueFor(e),ao.getValueFor(e),lo.getValueFor(e),co.getValueFor(e),ho.getValueFor(e))}),ds=u("neutral-stroke-rest").withDefault(e=>le.getValueFor(e).evaluate(e).rest),Po=u("neutral-stroke-hover").withDefault(e=>le.getValueFor(e).evaluate(e).hover);u("neutral-stroke-active").withDefault(e=>le.getValueFor(e).evaluate(e).active);u("neutral-stroke-focus").withDefault(e=>le.getValueFor(e).evaluate(e).focus);const Ro=d("neutral-stroke-divider-recipe").withDefault({evaluate:(e,t)=>zr(R.getValueFor(e),t||j.getValueFor(e),uo.getValueFor(e))});u("neutral-stroke-divider-rest").withDefault(e=>Ro.getValueFor(e).evaluate(e));Zt.create({name:"height-number",cssCustomPropertyName:null}).withDefault(e=>(ns.getValueFor(e)+rs.getValueFor(e))*U.getValueFor(e));const ce=en`(${ns} + ${rs}) * ${U}`;class No{constructor(t,i){this.cache=new WeakMap,this.ltr=t,this.rtl=i}bind(t){this.attach(t)}unbind(t){const i=this.cache.get(t);i&&ke.unsubscribe(i)}attach(t){const i=this.cache.get(t)||new To(this.ltr,this.rtl,t),s=ke.getValueFor(t);ke.subscribe(i),i.attach(s),this.cache.set(t,i)}}class To{constructor(t,i,s){this.ltr=t,this.rtl=i,this.source=s,this.attached=null}handleChange({target:t,token:i}){this.attach(i.getValueFor(t))}attach(t){this.attached!==this[t]&&(this.attached!==null&&this.source.$fastController.removeStyles(this.attached),this.attached=this[t],this.attached!==null&&this.source.$fastController.addStyles(this.attached))}}const Ti=Z`
    :host {
        align-self: start;
        grid-row: 2;
        margin-top: -2px;
        height: calc((${ce} / 2 + ${U}) * 1px);
        width: auto;
    }
    .container {
        grid-template-rows: auto auto;
        grid-template-columns: 0;
    }
    .label {
        margin: 2px 0;
    }
`,$i=Z`
    :host {
        justify-self: start;
        grid-column: 2;
        margin-left: 2px;
        height: auto;
        width: calc((${ce} / 2 + ${U}) * 1px);
    }
    .container {
        grid-template-columns: auto auto;
        grid-template-rows: 0;
        min-width: calc(var(--thumb-size) * 1px);
        height: calc(var(--thumb-size) * 1px);
    }
    .mark {
        transform: rotate(90deg);
        align-self: center;
    }
    .label {
        margin-left: calc((${U} / 2) * 3px);
        align-self: center;
    }
`,$o=(e,t)=>Z`
        ${Ki("block")} :host {
            font-family: ${jr};
            color: ${Ct};
            fill: currentcolor;
        }
        .root {
            position: absolute;
            display: grid;
        }
        .container {
            display: grid;
            justify-self: center;
        }
        .label {
            justify-self: center;
            align-self: center;
            white-space: nowrap;
            max-width: 30px;
        }
        .mark {
            width: calc((${U} / 4) * 1px);
            height: calc(${ce} * 0.25 * 1px);
            background: ${ds};
            justify-self: center;
        }
        :host(.disabled) {
            opacity: ${os};
        }
    `.withBehaviors(Ji(Z`
                .mark {
                    forced-color-adjust: none;
                    background: ${L.FieldText};
                }
                :host(.disabled) {
                    forced-color-adjust: none;
                    opacity: 1;
                }
                :host(.disabled) .label {
                    color: ${L.GrayText};
                }
                :host(.disabled) .mark {
                    background: ${L.GrayText};
                }
            `));class Lo extends G{sliderOrientationChanged(){this.sliderOrientation===E.horizontal?(this.$fastController.addStyles(Ti),this.$fastController.removeStyles($i)):(this.$fastController.addStyles($i),this.$fastController.removeStyles(Ti))}}const Oo=Lo.compose({baseName:"slider-label",baseClass:G,template:qn,styles:$o}),Io=Z`
    .track-start {
        left: 0;
    }
`,Ao=Z`
    .track-start {
        right: 0;
    }
`,Eo=(e,t)=>Z`
        :host([hidden]) {
            display: none;
        }

        ${Ki("inline-grid")} :host {
            --thumb-size: calc(${ce} * 0.5 - ${U});
            --thumb-translate: calc(var(--thumb-size) * -0.5 + var(--track-width) / 2);
            --track-overhang: calc((${U} / 2) * -1);
            --track-width: ${U};
            --fast-slider-height: calc(var(--thumb-size) * 10);
            align-items: center;
            width: 100%;
            margin: calc(${U} * 1px) 0;
            user-select: none;
            box-sizing: border-box;
            border-radius: calc(${zt} * 1px);
            outline: none;
            cursor: pointer;
        }
        :host([orientation="horizontal"]) .positioning-region {
            position: relative;
            margin: 0 8px;
            display: grid;
            grid-template-rows: calc(var(--thumb-size) * 1px) 1fr;
        }
        :host([orientation="vertical"]) .positioning-region {
            position: relative;
            margin: 0 8px;
            display: grid;
            height: 100%;
            grid-template-columns: calc(var(--thumb-size) * 1px) 1fr;
        }

        :host(:${Ce}) .thumb-cursor {
            box-shadow: 0 0 0 2px ${j}, 0 0 0 4px ${fs};
        }

        .thumb-container {
            position: absolute;
            height: calc(var(--thumb-size) * 1px);
            width: calc(var(--thumb-size) * 1px);
            transition: all 0.2s ease;
            color: ${Ct};
            fill: currentcolor;
        }
        .thumb-cursor {
            border: none;
            width: calc(var(--thumb-size) * 1px);
            height: calc(var(--thumb-size) * 1px);
            background: ${Ct};
            border-radius: calc(${zt} * 1px);
        }
        .thumb-cursor:hover {
            background: ${Ct};
            border-color: ${Po};
        }
        .thumb-cursor:active {
            background: ${Ct};
        }
        .track-start {
            background: ${Fo};
            position: absolute;
            height: 100%;
            left: 0;
            border-radius: calc(${zt} * 1px);
        }
        :host([orientation="horizontal"]) .thumb-container {
            transform: translateX(calc(var(--thumb-size) * 0.5px)) translateY(calc(var(--thumb-translate) * 1px));
        }
        :host([orientation="vertical"]) .thumb-container {
            transform: translateX(calc(var(--thumb-translate) * 1px)) translateY(calc(var(--thumb-size) * 0.5px));
        }
        :host([orientation="horizontal"]) {
            min-width: calc(var(--thumb-size) * 1px);
        }
        :host([orientation="horizontal"]) .track {
            right: calc(var(--track-overhang) * 1px);
            left: calc(var(--track-overhang) * 1px);
            align-self: start;
            height: calc(var(--track-width) * 1px);
        }
        :host([orientation="vertical"]) .track {
            top: calc(var(--track-overhang) * 1px);
            bottom: calc(var(--track-overhang) * 1px);
            width: calc(var(--track-width) * 1px);
            height: 100%;
        }
        .track {
            background: ${ds};
            position: absolute;
            border-radius: calc(${zt} * 1px);
        }
        :host([orientation="vertical"]) {
            height: calc(var(--fast-slider-height) * 1px);
            min-height: calc(var(--thumb-size) * 1px);
            min-width: calc(${U} * 20px);
        }
        :host([orientation="vertical"]) .track-start {
            height: auto;
            width: 100%;
            top: 0;
        }
        :host([disabled]), :host([readonly]) {
            cursor: ${Qn};
        }
        :host([disabled]) {
            opacity: ${os};
        }
    `.withBehaviors(new No(Io,Ao),Ji(Z`
                .thumb-cursor {
                    forced-color-adjust: none;
                    border-color: ${L.FieldText};
                    background: ${L.FieldText};
                }
                .thumb-cursor:hover,
                .thumb-cursor:active {
                    background: ${L.Highlight};
                }
                .track {
                    forced-color-adjust: none;
                    background: ${L.FieldText};
                }
                :host(:${Ce}) .thumb-cursor {
                    border-color: ${L.Highlight};
                }
                :host([disabled]) {
                    opacity: 1;
                }
                :host([disabled]) .track,
                :host([disabled]) .thumb-cursor {
                    forced-color-adjust: none;
                    background: ${L.GrayText};
                }

                :host(:${Ce}) .thumb-cursor {
                    background: ${L.Highlight};
                    border-color: ${L.Highlight};
                    box-shadow: 0 0 0 2px ${L.Field}, 0 0 0 4px ${L.FieldText};
                }
            `)),Bo=T.compose({baseName:"slider",template:Un,styles:Eo,thumb:`
        <div class="thumb-cursor"></div>
    `});function zo(e){return Qi.getOrCreate(e).withPrefix("fast")}zo().register(Bo({thumb:'<div style="background-color: #fff; border: solid; border-color: #777; border-width: 1px; border-radius: 3px; width: 16px; height: 16px; "></div>'}),Oo());const jo=document.getElementById("canvas"),Xt=document.getElementById("nCitiesSlider"),ct=document.getElementById("piSlider"),ht=document.getElementById("tcostSlider"),ut=document.getElementById("sigmaSlider"),Ho=document.getElementById("visualizer"),gs=document.getElementById("nCities"),ps=document.getElementById("pi"),ms=document.getElementById("tcost"),vs=document.getElementById("sigma"),he=document.getElementById("start"),ue=document.getElementById("stop"),ei=document.getElementById("reset"),Wo=document.getElementById("counter"),bs=1,C=new Ds(50,1,.4,5,10,bs),qo=new ks(jo,C);C.addUpdateEventListener(()=>{Wo.innerText=C.counter.toLocaleString(),qo.repaint();const e=C.country.cities.map(t=>t.MShare).reduce((t,i)=>i>t?i:t,0);Ps({canvas:Ho,diameter:260,vertices:C.numCities,vertexCircleRadius:5,vertexCircleValueSource:C.country.cities.map(t=>t.MShare/e)})});he.className="";ue.className="disabled";ct.valueAsNumber=C.country.pi;ht.valueAsNumber=C.country.tcost;ut.valueAsNumber=C.country.sigma;gs.innerText=Xt.value;ms.innerText=ht.value;vs.innerText=ut.value;ps.innerText=ct.value;function Uo(){he.className="disabled",ue.className="started",ei.className="started",C.start()}function Go(){he.className="",ue.className="disabled",ei.className="",C.stop()}function ys(){C.reset()}function _o(){gs.innerText=Xt.value,C.setNumCities(Xt.valueAsNumber,ct.valueAsNumber,ht.valueAsNumber,ut.valueAsNumber,bs),C.reset()}function Xo(){ps.innerText=ct.valueAsNumber.toPrecision(2),C.setPi(ct.valueAsNumber)}function Yo(){ms.innerText=ht.valueAsNumber.toPrecision(2),C.setTcost(ht.valueAsNumber),C.calcDistanceMatrix()}function Qo(){vs.innerText=ut.valueAsNumber.toPrecision(3),C.setSigma(ut.valueAsNumber),C.calcDistanceMatrix()}he.addEventListener("click",Uo);ue.addEventListener("click",Go);ei.addEventListener("click",ys);Xt.addEventListener("change",_o);ct.addEventListener("change",Xo);ht.addEventListener("change",Yo);ut.addEventListener("change",Qo);const Zo=document.getElementById("scale");Zo.addEventListener("change",e=>{const t=e.target.value,i=parseFloat(t.split(" ")[1]);C.setScale(i)});ys();
