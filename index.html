<!DOCTYPE html>
<html lang="en">
  <head>
    <title>The Race Track Economy</title>
    <meta charset="UTF-8" />
	  <!--
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium Web" />
    -->

    <style>
		#root {
			font-family: Mincho SansSerif;
		}

		icon {
			margin-right: 4px;
		}

		.slider-container {
			padding: 10px 50px 10px 10px;
			display: flex;
			flex-display: row;
			flex-grow: 1;
		}
		.slider-label{
			width: 80px;
		}

		fast-slider-label{
			color: #333;
		}

		fast-button.disabled {
			background-color: #ccc;
		}
		fast-button {
			font-size: 120%;
			border-style: solid;
			border-width: 1px;
			border-color: #666;
			border-radius: 3px;
			color: #444;
			background-color: #fff;
			padding: 5px 10px 5px 10px;
			margin-left: 5px;
			display: flex;
			flex-direction: row;
		}
		fast-button.started {
			animation: blinking 1s ease-in-out infinite alternate;
		}
		@keyframes blinking {
			0% {
				background-color: #fdd;
			}
			100% {
				background-color: #fff;
			}
		}
		.icon{
			background-repeat: no-repeat;
			width: 24px;
			height: 24px;
			margin-top: 1px;
			margin-right: 3px;
		}
		#startIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>');
		}
		#stopIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M15,16H13V8H15M11,16H9V8H11M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>');
		}
		#resetIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z" /></svg>');
		}
		#magnifyIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" viewBox="0 0 24 24">  <path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>');
		}
		#cityIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M0,21V10L7.5,5L15,10V21H10V14H5V21H0M24,2V21H17V8.93L16,8.27V6H14V6.93L10,4.27V2H24M21,14H19V16H21V14M21,10H19V12H21V10M21,6H19V8H21V6Z" /></svg>');
		}
		#accountSwitchIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M16 9C22 9 22 13 22 13V15H16V13C16 13 16 11.31 14.85 9.8C14.68 9.57 14.47 9.35 14.25 9.14C14.77 9.06 15.34 9 16 9M2 13C2 13 2 9 8 9S14 13 14 13V15H2V13M9 17V19H15V17L18 20L15 23V21H9V23L6 20L9 17M8 1C6.34 1 5 2.34 5 4S6.34 7 8 7 11 5.66 11 4 9.66 1 8 1M16 1C14.34 1 13 2.34 13 4S14.34 7 16 7 19 5.66 19 4 17.66 1 16 1Z" /></svg>');
		}
		#truckIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M18,18.5A1.5,1.5 0 0,1 16.5,17A1.5,1.5 0 0,1 18,15.5A1.5,1.5 0 0,1 19.5,17A1.5,1.5 0 0,1 18,18.5M19.5,9.5L21.46,12H17V9.5M6,18.5A1.5,1.5 0 0,1 4.5,17A1.5,1.5 0 0,1 6,15.5A1.5,1.5 0 0,1 7.5,17A1.5,1.5 0 0,1 6,18.5M20,8H17V4H3C1.89,4 1,4.89 1,6V17H3A3,3 0 0,0 6,20A3,3 0 0,0 9,17H15A3,3 0 0,0 18,20A3,3 0 0,0 21,17H23V12L20,8Z" /></svg>');
		}
		#headHeartIcon{
			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M13 3C9.23 3 6.19 5.95 6 9.66L4.08 12.19C3.84 12.5 4.08 13 4.5 13H6V16C6 17.11 6.89 18 8 18H9V21H16V16.31C18.37 15.19 20 12.8 20 10C20 6.14 16.88 3 13 3M17 8.83C17 10.37 15.64 11.6 13.58 13.47L13 14L12.42 13.47C10.36 11.6 9 10.37 9 8.83C9 7.63 9.96 6.64 11.16 6.63H11.2C11.89 6.63 12.55 6.94 13 7.46C13.45 6.94 14.11 6.63 14.8 6.63C16 6.62 17 7.59 17 8.79V8.83Z" /></svg>');
		}
		</style>
  </head>
  <body>
  <div id="root">

	  <h1>The Race Track Economy</h1>

	  <div style="display: flex; justify-content: center;">
		<canvas
				  id="canvas"
				  width="900" height="300"
				  style="margin-top:10px ">
		</canvas>
		<div style="position: absolute; top: 20px; right: 0; width: 80px; height: 30px; display: flex; justify-content: center; justify-items: center; flex-direction: column; padding-right: 20px; flex-direction: row">

		<div id="magnifyIcon" class="icon" style="margin-top: 4px; margin-right: 7px"></div>
		<select id="scale">
		<option>x 21</option>
		<option>x 13</option>
		<option>x 8</option>
		<option>x 5</option>
		<option>x 3</option>
		<option>x 2</option>
		<option selected>x 1</option>
		</select>
		</div>
		</div>

	  <div>
		<div class="slider-container">
		<div class="slider-label">
		<div id="cityIcon" class="icon"></div>
		<span class="slider-label">K = </span><span id="nCities"></span>
		</div>

		<fast-slider
              id="nCitiesSlider"
					  min="0" max="500"
					  step="1"
					  value="50">
				  <fast-slider-label position="0">0</fast-slider-label>
				  <fast-slider-label position="100">100</fast-slider-label>
				  <fast-slider-label position="200">200</fast-slider-label>
				  <fast-slider-label position="300">300</fast-slider-label>
				  <fast-slider-label position="400">400</fast-slider-label>
				  <fast-slider-label position="500">500</fast-slider-label>
			  </fast-slider>
		  </div>

		<div class="slider-container">
		<div class="slider-label">
		      <div id="accountSwitchIcon" class="icon"></div>
			  <span class="slider-label">π = </span><span id="pi"></span>
		</div>
			  <fast-slider
																																																																																																																																																										  id="piSlider"
					  min="0" max="1.0" step="0.01"
					  value="3">
				  <fast-slider-label position="0">0</fast-slider-label>
				  <fast-slider-label position="0.2">0.2</fast-slider-label>
				  <fast-slider-label position="0.4">0.4</fast-slider-label>
				  <fast-slider-label position="0.6">0.6</fast-slider-label>
				  <fast-slider-label position="0.8">0.8</fast-slider-label>
				  <fast-slider-label position="1.0">1.0</fast-slider-label>
			  </fast-slider>
		  </div>

		  <div class="slider-container">
		<div class="slider-label">
		      <div id="truckIcon" class="icon"></div>
			  <span class="slider-label">T = </span><span id="tcost"></span>
		</div>
			  <fast-slider
					  id="tcostSlider"
					  min="1" max="10" step="0.1"
					  value="">
				  <fast-slider-label position="1">1</fast-slider-label>
				  <fast-slider-label position="4">4</fast-slider-label>
				  <fast-slider-label position="7">7</fast-slider-label>
				  <fast-slider-label position="10">10</fast-slider-label>
			  </fast-slider>
		  </div>

		  <div class="slider-container">
		<div class="slider-label">
		      <div id="headHeartIcon" class="icon"></div>
			  <span class="slider-label">σ = </span><span id="sigma"></span>
		</div>
			  <fast-slider
					  id="sigmaSlider"
					  min="1" max="20" step="0.1"
					  value="">
				  <fast-slider-label position="1">1</fast-slider-label>
				  <fast-slider-label position="5">5</fast-slider-label>
				  <fast-slider-label position="10">10</fast-slider-label>
				  <fast-slider-label position="15">15</fast-slider-label>
				  <fast-slider-label position="20">20</fast-slider-label>
			  </fast-slider>
		  </div>
	  </div>

	  <div id="buttonPanel" style="margin-top: 50px; display: flex; justify-content: center;"
		   class="blink"
	  >
	  
		  <fast-button
				  id="start"
		  >
			  <div id="startIcon" class="icon"></div>
			  Start
		  </fast-button>

		  <fast-button
				  id="stop"
		  >
			  <div id="stopIcon" class="icon"></div>
			  Stop
		  </fast-button>

		  <fast-button
				  id="reset"
		  >
		      <div id="resetIcon" class="icon"></div>
			  Reset
		  </fast-button>

		  <div style="margin-left: 12px; margin-top: 12px; color: #888; width: 100px">
			  Time: <span id="counter">0</span>
		  </div>

	  </div>

	  <div>
		  <ul>
			  <li>K: The number of locations assumed to be laid out symmetrically in a circle, with transportation possible only around the circumference. The distance between any two neighboring locations is set equal to one.</li>
			  <li>π: The share of manufacturing goods in expenditure.</li>
			  <li>T: The level of transportation cost among locations. A value of 1 represents no transportation cost, while a value of 10 represents significant transportation cost.</li>
			  <li>σ: The elasticity of substitution among manufactured goods. A value of 1 represents a strong love of variety, while a value of 20 represents a limited love of variety.</li>
		  </ul>
		  <!--
		  <ul>
			  <li>Kは都市の数。円周上に均等な間隔で位置しており、それぞれの都市間の距離は</li>
			  <li>πは消費者の工業製品に対する支出割合。0に近いほど農業財の消費への支出の割合が高く、1に近いほど工業祭への支出の割合が高くなる。</li>
			  <li>Tは輸送費の水準。1に近いほど輸送費が低いこと、10が輸送費が高いことを示す。</li>
			  <li>σは多様性選好の水準。１は多様性を非常に強く好むこと、20は多様性をあまり好まないことを示す。</li>
		  </ul>
		  -->
	  </div>

	  <h3>References</h3>
	  <ul>
		  <li>Krugman, P. (1993) On the number and location of cities. <i>European Economic Review</i>, Vol. 37 (2-3) pp.293-298.</li>
		  <li>Fujita, M., Krugman, P., Venables, A. (1999) "The Spatial Economy: Cities, Regions, and International Trade", <i>MIT Press</i>.</li>
	  </ul>
  </div>

  <script type="module" src="src/index.ts"></script>
  </body>
</html>
